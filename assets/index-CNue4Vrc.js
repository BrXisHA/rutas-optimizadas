(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function PE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},Tl={};var F_;function YA(){if(F_)return Tl;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var G_;function XA(){return G_||(G_=1,Ud.exports=YA()),Ud.exports}var D=XA(),Ld={exports:{}},Tt={};var K_;function $A(){if(K_)return Tt;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function ft(V,Y,nt){this.props=V,this.context=Y,this.refs=W,this.updater=nt||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ft.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function yt(){}yt.prototype=ft.prototype;function vt(V,Y,nt){this.props=V,this.context=Y,this.refs=W,this.updater=nt||J}var lt=vt.prototype=new yt;lt.constructor=vt,Z(lt,ft.prototype),lt.isPureReactComponent=!0;var Ct=Array.isArray;function mt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(V,Y,nt){var st=nt.ref;return{$$typeof:r,type:V,key:Y,ref:st!==void 0?st:null,props:nt}}function x(V,Y){return C(V.type,Y,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function re(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Y.toString(36)}function De(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(mt,mt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,nt,st,_t){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case r:case t:Lt=!0;break;case T:return Lt=V._init,G(Lt(V._payload),Y,nt,st,_t)}}if(Lt)return _t=_t(V),Lt=st===""?"."+re(V,0):st,Ct(_t)?(nt="",Lt!=null&&(nt=Lt.replace(R,"$&/")+"/"),G(_t,Y,nt,"",function(os){return os})):_t!=null&&(M(_t)&&(_t=x(_t,nt+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Lt)),Y.push(_t)),1;Lt=0;var Oe=st===""?".":st+":";if(Ct(V))for(var se=0;se<V.length;se++)st=V[se],wt=Oe+re(st,se),Lt+=G(st,Y,nt,wt,_t);else if(se=H(V),typeof se=="function")for(V=se.call(V),se=0;!(st=V.next()).done;)st=st.value,wt=Oe+re(st,se++),Lt+=G(st,Y,nt,wt,_t);else if(wt==="object"){if(typeof V.then=="function")return G(De(V),Y,nt,st,_t);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(V,Y,nt){if(V==null)return V;var st=[],_t=0;return G(V,st,"","",function(wt){return Y.call(nt,wt,_t++)}),st}function ht(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:et,forEach:function(V,Y,nt){et(V,function(){Y.apply(this,arguments)},nt)},count:function(V){var Y=0;return et(V,function(){Y++}),Y},toArray:function(V){return et(V,function(Y){return Y})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=Gt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=vt,Tt.StrictMode=s,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,Y,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=Z({},V.props),_t=V.key;if(Y!=null)for(wt in Y.key!==void 0&&(_t=""+Y.key),Y)!b.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(st[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)st.children=nt;else if(1<wt){for(var Lt=Array(wt),Oe=0;Oe<wt;Oe++)Lt[Oe]=arguments[Oe+2];st.children=Lt}return C(V.type,_t,st)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Tt.createElement=function(V,Y,nt){var st,_t={},wt=null;if(Y!=null)for(st in Y.key!==void 0&&(wt=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Y[st]);var Lt=arguments.length-2;if(Lt===1)_t.children=nt;else if(1<Lt){for(var Oe=Array(Lt),se=0;se<Lt;se++)Oe[se]=arguments[se+2];_t.children=Oe}if(V&&V.defaultProps)for(st in Lt=V.defaultProps,Lt)_t[st]===void 0&&(_t[st]=Lt[st]);return C(V,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=M,Tt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ht}},Tt.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},Tt.startTransition=function(V){var Y=I.T,nt={};I.T=nt;try{var st=V(),_t=I.S;_t!==null&&_t(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(mt,zt)}catch(wt){zt(wt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(V){return I.H.use(V)},Tt.useActionState=function(V,Y,nt){return I.H.useActionState(V,Y,nt)},Tt.useCallback=function(V,Y){return I.H.useCallback(V,Y)},Tt.useContext=function(V){return I.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,Y){return I.H.useDeferredValue(V,Y)},Tt.useEffect=function(V,Y){return I.H.useEffect(V,Y)},Tt.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(V,Y,nt){return I.H.useImperativeHandle(V,Y,nt)},Tt.useInsertionEffect=function(V,Y){return I.H.useInsertionEffect(V,Y)},Tt.useLayoutEffect=function(V,Y){return I.H.useLayoutEffect(V,Y)},Tt.useMemo=function(V,Y){return I.H.useMemo(V,Y)},Tt.useOptimistic=function(V,Y){return I.H.useOptimistic(V,Y)},Tt.useReducer=function(V,Y,nt){return I.H.useReducer(V,Y,nt)},Tt.useRef=function(V){return I.H.useRef(V)},Tt.useState=function(V){return I.H.useState(V)},Tt.useSyncExternalStore=function(V,Y,nt){return I.H.useSyncExternalStore(V,Y,nt)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.4",Tt}var Q_;function Cm(){return Q_||(Q_=1,Ld.exports=$A()),Ld.exports}var St=Cm();const JA=PE(St);var Pd={exports:{}},Al={},zd={exports:{}},jd={};var Y_;function ZA(){return Y_||(Y_=1,(function(r){function t(G,et){var ht=G.length;G.push(et);t:for(;0<ht;){var zt=ht-1>>>1,Gt=G[zt];if(0<l(Gt,et))G[zt]=et,G[ht]=Gt,ht=zt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],ht=G.pop();if(ht!==et){G[0]=ht;t:for(var zt=0,Gt=G.length,V=Gt>>>1;zt<V;){var Y=2*(zt+1)-1,nt=G[Y],st=Y+1,_t=G[st];if(0>l(nt,ht))st<Gt&&0>l(_t,nt)?(G[zt]=_t,G[st]=ht,zt=st):(G[zt]=nt,G[Y]=ht,zt=Y);else if(st<Gt&&0>l(_t,ht))G[zt]=_t,G[st]=ht,zt=st;else break t}}return et}function l(G,et){var ht=G.sortIndex-et.sortIndex;return ht!==0?ht:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],g=[],T=1,S=null,N=3,H=!1,J=!1,Z=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function lt(G){for(var et=i(g);et!==null;){if(et.callback===null)s(g);else if(et.startTime<=G)s(g),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(g)}}function Ct(G){if(Z=!1,lt(G),!J)if(i(_)!==null)J=!0,mt||(mt=!0,U());else{var et=i(g);et!==null&&De(Ct,et.startTime-G)}}var mt=!1,I=-1,b=5,C=-1;function x(){return W?!0:!(r.unstable_now()-C<b)}function M(){if(W=!1,mt){var G=r.unstable_now();C=G;var et=!0;try{t:{J=!1,Z&&(Z=!1,yt(I),I=-1),H=!0;var ht=N;try{e:{for(lt(G),S=i(_);S!==null&&!(S.expirationTime>G&&x());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,N=S.priorityLevel;var Gt=zt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,lt(G),et=!0;break e}S===i(_)&&s(_),lt(G)}else s(_);S=i(_)}if(S!==null)et=!0;else{var V=i(g);V!==null&&De(Ct,V.startTime-G),et=!1}}break t}finally{S=null,N=ht,H=!1}et=void 0}}finally{et?U():mt=!1}}}var U;if(typeof vt=="function")U=function(){vt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=M,U=function(){re.postMessage(null)}}else U=function(){ft(M,0)};function De(G,et){I=ft(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ht=N;N=et;try{return G()}finally{N=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=N;N=G;try{return et()}finally{N=ht}},r.unstable_scheduleCallback=function(G,et,ht){var zt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,G={id:T++,callback:et,priorityLevel:G,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>zt?(G.sortIndex=ht,t(g,G),i(_)===null&&G===i(g)&&(Z?(yt(I),I=-1):Z=!0,De(Ct,ht-zt))):(G.sortIndex=Gt,t(_,G),J||H||(J=!0,mt||(mt=!0,U()))),G},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(G){var et=N;return function(){var ht=N;N=et;try{return G.apply(this,arguments)}finally{N=ht}}}})(jd)),jd}var X_;function WA(){return X_||(X_=1,zd.exports=ZA()),zd.exports}var Bd={exports:{}},Xe={};var $_;function tS(){if($_)return Xe;$_=1;var r=Cm();function t(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:g,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(_,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(_,g,null,T)},Xe.flushSync=function(_){var g=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=g,s.p=T,s.d.f()}},Xe.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(_,g))},Xe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Xe.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,H=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:H}):T==="script"&&s.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:H,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xe.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(_)},Xe.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin);s.d.L(_,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xe.preloadModule=function(_,g){if(typeof _=="string")if(g){var T=p(g.as,g.crossOrigin);s.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(_)},Xe.requestFormReset=function(_){s.d.r(_)},Xe.unstable_batchedUpdates=function(_,g){return _(g)},Xe.useFormState=function(_,g,T){return d.H.useFormState(_,g,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var J_;function eS(){if(J_)return Bd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=tS(),Bd.exports}var Z_;function nS(){if(Z_)return Al;Z_=1;var r=WA(),t=Cm(),i=eS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case Ct:return"Suspense";case mt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case vt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var De=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(e){return{current:e}}function Y(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function nt(e,n){Gt++,zt[Gt]=e.current,e.current=n}var st=V(null),_t=V(null),wt=V(null),Lt=V(null);function Oe(e,n){switch(nt(wt,n),nt(_t,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d_(n),e=m_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function se(){Y(st),Y(_t),Y(wt)}function os(e){e.memoizedState!==null&&nt(Lt,e);var n=st.current,a=m_(n,e.type);n!==a&&(nt(_t,e),nt(st,a))}function ta(e){_t.current===e&&(Y(st),Y(_t)),Lt.current===e&&(Y(Lt),yl._currentValue=ht)}var ea,na;function ni(e){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var yo=!1;function ls(e,n){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){j=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),z=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===z.length)for(o=w.length-1,h=z.length-1;1<=o&&0<=h&&w[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==z[h]){var F=`
`+w[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function _o(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return ni("Activity");default:return""}}function vo(e){try{var n="",a=null;do n+=_o(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,rr=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,au=r.unstable_requestPaint,tn=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,zn=null,je=null;function bn(e){if(typeof lu=="function"&&uu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:hu,cu=Math.log,ia=Math.LN2;function hu(e){return e>>>=0,e===0?32:31-(cu(e)/ia|0)|0}var ii=256,cs=262144,_e=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(y&=E,y!==0?h=ri(y):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):y!==0?h=ri(y):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-fe(a),Q=1<<F;E[F]=0,w[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&fs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function fs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function So(e,n){var a=n&-n;return a=(a&42)!==0?1:ds(a),(a&(e.suspendedLanes|n))!==0?0:a}function ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function Bn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var qn=Math.random().toString(36).slice(2),ve="__reactFiber$"+qn,Ue="__reactProps$"+qn,oi="__reactContainer$"+qn,ra="__reactEvents$"+qn,Bh="__reactListeners$"+qn,mu="__reactHandles$"+qn,pu="__reactResources$"+qn,li="__reactMarker$"+qn;function sa(e){delete e[ve],delete e[Ue],delete e[ra],delete e[Bh],delete e[mu]}function ui(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=T_(e);e!==null;){if(a=e[ve])return a;e=T_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ci(e){var n=e[pu];return n||(n=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[li]=!0}var bo=new Set,Ro={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Ro[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function gu(e){return ye.call(Co,e)?!0:ye.call(Io,e)?!1:wo.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function aa(e,n,a){if(gu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function ms(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function rn(e){return e.replace(ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Do(e,y,Le(n)):a!=null?Do(e,y,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function yu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Kt(e)}function Do(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function or(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _u(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function lr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(De(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Mo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Vo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,mi=null;function gs(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ms(o)}break t;case"textarea":_u(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&or(e,!!a.multiple,n,!1)}}}var ca=!1;function hr(e,n,a){if(ca)return e(n,a);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(cr!==null||mi!==null)&&(dc(),cr&&(n=cr,e=mi,mi=cr=null,gs(n),e)))for(n=0;n<e.length;n++)gs(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(In)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ys=!1}var pi=null,xo=null,_s=null;function ko(){if(_s)return _s;var e,n=xo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return _s=h.slice(e,1<o?1-o:void 0)}function vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Gn(){return!1}function Be(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Be(Vi),fr=S({},Vi,{view:0,detail:0}),Uo=Be(fr),dr,ha,yi,fa=S({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(dr=e.screenX-yi.screenX,ha=e.screenY-yi.screenY):ha=dr=0,yi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Lo=Be(fa),Es=S({},fa,{dataTransfer:0}),Tu=Be(Es),Au=S({},fr,{relatedTarget:0}),Ts=Be(Au),Po=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Be(Po),da=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bu=Be(da),Ru=S({},Vi,{data:0}),_i=Be(Ru),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cu[e])?!!n[e]:!1}function mr(){return Nu}var en=S({},fr,{key:function(e){if(e.key){var n=wu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Du=Be(en),Ou=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=Be(Ou),u=S({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=Be(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),L=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(L),tt=S({},Vi,{newState:0,oldState:0}),bt=Be(tt),de=[9,13,27,32],qt=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Cn=In&&"TextEvent"in window&&!ae,vi=In&&(!qt||ae&&8<ae&&11>=ae),Kn=" ",Qn=!1;function As(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function _1(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Qn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Qn?null:e;default:return null}}function v1(e,n){if(pa)return e==="compositionend"||!qt&&As(e,n)?(e=ko(),_s=xo=pi=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!E1[e.type]:n==="textarea"}function Rp(e,n,a,o){cr?mi?mi.push(o):mi=[o]:cr=o,n=Ec(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var zo=null,jo=null;function T1(e){o_(e,0)}function Mu(e){var n=dn(e);if(ms(n))return e}function wp(e,n){if(e==="change")return n}var Ip=!1;if(In){var qh;if(In){var Hh="oninput"in document;if(!Hh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Hh=typeof Cp.oninput=="function"}qh=Hh}else qh=!1;Ip=qh&&(!document.documentMode||9<document.documentMode)}function Np(){zo&&(zo.detachEvent("onpropertychange",Dp),jo=zo=null)}function Dp(e){if(e.propertyName==="value"&&Mu(jo)){var n=[];Rp(n,jo,e,wn(e)),hr(T1,n)}}function A1(e,n,a){e==="focusin"?(Np(),zo=n,jo=a,zo.attachEvent("onpropertychange",Dp)):e==="focusout"&&Np()}function S1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(jo)}function b1(e,n){if(e==="click")return Mu(n)}function R1(e,n){if(e==="input"||e==="change")return Mu(n)}function w1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:w1;function Bo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,n){var a=Op(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Op(a)}}function Vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I1=In&&"documentMode"in document&&11>=document.documentMode,ga=null,Gh=null,qo=null,Kh=!1;function kp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||ga==null||ga!==di(o)||(o=ga,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=Ec(Gh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ga)))}function Ss(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Qh={},Up={};In&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function bs(e){if(Qh[e])return Qh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Up)return Qh[e]=n[a];return e}var Lp=bs("animationend"),Pp=bs("animationiteration"),zp=bs("animationstart"),C1=bs("transitionrun"),N1=bs("transitionstart"),D1=bs("transitioncancel"),jp=bs("transitionend"),Bp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Yn(e,n){Bp.set(e,n),hi(n,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],_a=0,Xh=0;function xu(){for(var e=_a,n=Xh=_a=0;n<e;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&qp(a,h,f)}}function ku(e,n,a,o){Nn[_a++]=e,Nn[_a++]=n,Nn[_a++]=a,Nn[_a++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,a,o){return ku(e,n,a,o),Uu(e)}function Rs(e,n){return ku(e,null,null,n),Uu(e)}function qp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Uu(e){if(50<cl)throw cl=0,ad=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function O1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,o){return new O1(e,n,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Lu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Jh(e)&&(y=1);else if(typeof e=="string")y=UA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,n,h),e.elementType=C,e.lanes=f,e;case Z:return ws(a.children,h,f,n);case W:y=8,h|=24;break;case ft:return e=gn(12,a,n,h|2),e.elementType=ft,e.lanes=f,e;case Ct:return e=gn(13,a,n,h),e.elementType=Ct,e.lanes=f,e;case mt:return e=gn(19,a,n,h),e.elementType=mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:y=10;break t;case yt:y=9;break t;case lt:y=11;break t;case I:y=14;break t;case b:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=gn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ws(e,n,a,o){return e=gn(7,e,o,n),e.lanes=a,e}function Zh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Fp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var a=Gp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vo(n)},Gp.set(e,n),n)}return{value:e,source:n,stack:vo(n)}}var Ea=[],Ta=0,Pu=null,Ho=0,On=[],Mn=0,pr=null,Ei=1,Ti="";function Ui(e,n){Ea[Ta++]=Ho,Ea[Ta++]=Pu,Pu=e,Ho=n}function Kp(e,n,a){On[Mn++]=Ei,On[Mn++]=Ti,On[Mn++]=pr,pr=e;var o=Ei;e=Ti;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ei=1<<32-fe(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function tf(e){e.return!==null&&(Ui(e,1),Kp(e,1,0))}function ef(e){for(;e===Pu;)Pu=Ea[--Ta],Ea[Ta]=null,Ho=Ea[--Ta],Ea[Ta]=null;for(;e===pr;)pr=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null,Ei=On[--Mn],On[Mn]=null}function Qp(e,n){On[Mn++]=Ei,On[Mn++]=Ti,On[Mn++]=pr,Ei=n.id,Ti=n.overflow,pr=e}var qe=null,ee=null,Ut=!1,gr=null,Vn=!1,nf=Error(s(519));function yr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Dn(n,e)),nf}function Yp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ue]=o,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)Dt(fl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),lr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h_(n.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||yr(e,!0)}function Xp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qe=qe.return}}function Aa(e){if(e!==qe)return!1;if(!Ut)return Xp(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&ee&&yr(e),Xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=E_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=E_(e)}else n===27?(n=ee,Or(e.type)?(e=wd,wd=null,ee=e):ee=n):ee=qe?kn(e.stateNode.nextSibling):null;return!0}function Is(){ee=qe=null,Ut=!1}function rf(){var e=gr;return e!==null&&(un===null?un=e:un.push.apply(un,e),gr=null),e}function Fo(e){gr===null?gr=[e]:gr.push(e)}var sf=V(null),Cs=null,Li=null;function _r(e,n,a){nt(sf,n._currentValue),n._currentValue=a}function Pi(e){e._currentValue=sf.current,Y(sf)}function af(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function of(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&of(n,e,a,o),n.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){Cs=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return $p(Cs,e)}function ju(e,n){return Cs===null&&Ns(e),$p(e,n)}function $p(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return a}var M1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},V1=r.unstable_scheduleCallback,x1=r.unstable_NormalPriority,Ae={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new M1,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&V1(x1,function(){e.controller.abort()})}var Ko=null,uf=0,ba=0,Ra=null;function k1(e,n){if(Ko===null){var a=Ko=[];uf=0,ba=fd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(Jp,Jp),n}function Jp(){if(--uf===0&&Ko!==null){Ra!==null&&(Ra.status="fulfilled");var e=Ko;Ko=null,ba=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function U1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Zp=G.S;G.S=function(e,n){ky=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&k1(e,n),Zp!==null&&Zp(e,n)};var Ds=V(null);function cf(){var e=Ds.current;return e!==null?e:Wt.pooledCache}function Bu(e,n){n===null?nt(Ds,Ds.current):nt(Ds,n.pool)}function Wp(){var e=cf();return e===null?null:{parent:Ae._currentValue,pool:e}}var wa=Error(s(460)),hf=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e}throw Ms=n,wa}}function Os(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,wa):a}}var Ms=null;function ng(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function ig(e){if(e===wa||e===qu)throw Error(s(483))}var Ia=null,Qo=0;function Fu(e){var n=Qo;return Qo+=1,Ia===null&&(Ia=[]),eg(Ia,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ki(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Zh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function w(k,O,P,K){var ut=P.type;return ut===Z?F(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Os(ut)===O.type)?(O=h(O,P.props),Yo(O,P),O.return=k,O):(O=Lu(P.type,P.key,P.props,null,k.mode,K),Yo(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Wh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function F(k,O,P,K,ut){return O===null||O.tag!==7?(O=ws(P,k.mode,K,ut),O.return=k,O):(O=h(O,P),O.return=k,O)}function Q(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=Lu(O.type,O.key,O.props,null,k.mode,P),Yo(P,O),P.return=k,P;case J:return O=Wh(O,k.mode,P),O.return=k,O;case b:return O=Os(O),Q(k,O,P)}if(De(O)||U(O))return O=ws(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Q(k,Fu(O),P);if(O.$$typeof===vt)return Q(k,ju(k,O),P);Gu(k,O)}return null}function j(k,O,P,K){var ut=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ut?w(k,O,P,K):null;case J:return P.key===ut?z(k,O,P,K):null;case b:return P=Os(P),j(k,O,P,K)}if(De(P)||U(P))return ut!==null?null:F(k,O,P,K,null);if(typeof P.then=="function")return j(k,O,Fu(P),K);if(P.$$typeof===vt)return j(k,O,ju(k,P),K);Gu(k,P)}return null}function q(k,O,P,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?P:K.key)||null,w(O,k,K,ut);case J:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,ut);case b:return K=Os(K),q(k,O,P,K,ut)}if(De(K)||U(K))return k=k.get(P)||null,F(O,k,K,ut,null);if(typeof K.then=="function")return q(k,O,P,Fu(K),ut);if(K.$$typeof===vt)return q(k,O,P,ju(O,K),ut);Gu(O,K)}return null}function at(k,O,P,K){for(var ut=null,jt=null,ot=O,It=O=0,Mt=null;ot!==null&&It<P.length;It++){ot.index>It?(Mt=ot,ot=null):Mt=ot.sibling;var Bt=j(k,ot,P[It],K);if(Bt===null){ot===null&&(ot=Mt);break}e&&ot&&Bt.alternate===null&&n(k,ot),O=f(Bt,O,It),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt,ot=Mt}if(It===P.length)return a(k,ot),Ut&&Ui(k,It),ut;if(ot===null){for(;It<P.length;It++)ot=Q(k,P[It],K),ot!==null&&(O=f(ot,O,It),jt===null?ut=ot:jt.sibling=ot,jt=ot);return Ut&&Ui(k,It),ut}for(ot=o(ot);It<P.length;It++)Mt=q(ot,k,It,P[It],K),Mt!==null&&(e&&Mt.alternate!==null&&ot.delete(Mt.key===null?It:Mt.key),O=f(Mt,O,It),jt===null?ut=Mt:jt.sibling=Mt,jt=Mt);return e&&ot.forEach(function(Ur){return n(k,Ur)}),Ut&&Ui(k,It),ut}function dt(k,O,P,K){if(P==null)throw Error(s(151));for(var ut=null,jt=null,ot=O,It=O=0,Mt=null,Bt=P.next();ot!==null&&!Bt.done;It++,Bt=P.next()){ot.index>It?(Mt=ot,ot=null):Mt=ot.sibling;var Ur=j(k,ot,Bt.value,K);if(Ur===null){ot===null&&(ot=Mt);break}e&&ot&&Ur.alternate===null&&n(k,ot),O=f(Ur,O,It),jt===null?ut=Ur:jt.sibling=Ur,jt=Ur,ot=Mt}if(Bt.done)return a(k,ot),Ut&&Ui(k,It),ut;if(ot===null){for(;!Bt.done;It++,Bt=P.next())Bt=Q(k,Bt.value,K),Bt!==null&&(O=f(Bt,O,It),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt);return Ut&&Ui(k,It),ut}for(ot=o(ot);!Bt.done;It++,Bt=P.next())Bt=q(ot,k,It,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?It:Bt.key),O=f(Bt,O,It),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(QA){return n(k,QA)}),Ut&&Ui(k,It),ut}function Zt(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ut=P.key;O!==null;){if(O.key===ut){if(ut=P.type,ut===Z){if(O.tag===7){a(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Os(ut)===O.type){a(k,O.sibling),K=h(O,P.props),Yo(K,P),K.return=k,k=K;break t}a(k,O);break}else n(k,O);O=O.sibling}P.type===Z?(K=ws(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Lu(P.type,P.key,P.props,null,k.mode,K),Yo(K,P),K.return=k,k=K)}return y(k);case J:t:{for(ut=P.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break t}else{a(k,O);break}else n(k,O);O=O.sibling}K=Wh(P,k.mode,K),K.return=k,k=K}return y(k);case b:return P=Os(P),Zt(k,O,P,K)}if(De(P))return at(k,O,P,K);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),dt(k,O,P,K)}if(typeof P.then=="function")return Zt(k,O,Fu(P),K);if(P.$$typeof===vt)return Zt(k,O,ju(k,P),K);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),K=h(O,P),K.return=k,k=K):(a(k,O),K=Zh(P,k.mode,K),K.return=k,k=K),y(k)):a(k,O)}return function(k,O,P,K){try{Qo=0;var ut=Zt(k,O,P,K);return Ia=null,ut}catch(ot){if(ot===wa||ot===qu)throw ot;var jt=gn(29,ot,null,k.mode);return jt.lanes=K,jt.return=k,jt}}}var Vs=rg(!0),sg=rg(!1),vr=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(e),qp(e,null,a),n}return ku(e,o,n,a),Uu(e)}function Xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}function mf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pf=!1;function $o(){if(pf){var e=Ra;if(e!==null)throw e}}function Jo(e,n,a,o){pf=!1;var h=e.updateQueue;vr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,z=w.next;w.next=null,y===null?f=z:y.next=z,y=w;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=w))}if(f!==null){var Q=h.baseState;y=0,F=z=w=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ot&j)===j:(o&j)===j){j!==0&&j===ba&&(pf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;j=n;var Zt=a;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Q=at.call(Zt,Q,j);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,j=typeof at=="function"?at.call(Zt,Q,j):at,j==null)break t;Q=S({},Q,j);break t;case 2:vr=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,w=Q):F=F.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(w=Q),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),wr|=y,e.lanes=y,e.memoizedState=Q}}function ag(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function og(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ag(a[e],n)}var Ca=V(null),Ku=V(0);function lg(e,n){e=Qi,nt(Ku,e),nt(Ca,n),Qi=e|n.baseLanes}function gf(){nt(Ku,Qi),nt(Ca,Ca.current)}function yf(){Qi=Ku.current,Y(Ca),Y(Ku)}var yn=V(null),xn=null;function Ar(e){var n=e.alternate;nt(me,me.current&1),nt(yn,e),xn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(xn=e)}function _f(e){nt(me,me.current),nt(yn,e),xn===null&&(xn=e)}function ug(e){e.tag===22?(nt(me,me.current),nt(yn,e),xn===null&&(xn=e)):Sr()}function Sr(){nt(me,me.current),nt(yn,yn.current)}function _n(e){Y(yn),xn===e&&(xn=null),Y(me)}var me=V(0);function Qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Rt=null,$t=null,Se=null,Yu=!1,Na=!1,xs=!1,Xu=0,Zo=0,Da=null,L1=0;function ce(){throw Error(s(321))}function vf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function Ef(e,n,a,o,h,f){return zi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Kg:kf,xs=!1,f=a(o,h),xs=!1,Na&&(f=hg(n,a,o,h)),cg(e),f}function cg(e){G.H=el;var n=$t!==null&&$t.next!==null;if(zi=0,Se=$t=Rt=null,Yu=!1,Zo=0,Da=null,n)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&zu(e)&&(be=!0))}function hg(e,n,a,o){Rt=e;var h=0;do{if(Na&&(Da=null),Zo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qg,f=n(a,o)}while(Na);return f}function P1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Tf(){var e=Xu!==0;return Xu=0,e}function Af(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Sf(e){if(Yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yu=!1}zi=0,Se=$t=Rt=null,Na=!1,Zo=Xu=0,Da=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Rt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?Rt.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?Rt.memoizedState=Se=e:Se=Se.next=e}return Se}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Zo;return Zo+=1,Da===null&&(Da=[]),e=eg(Da,e,n),n=Rt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Kg:kf),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===vt)return He(e)}throw Error(s(438,String(e)))}function bf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=x;return n.index++,a}function ji(e,n){return typeof n=="function"?n(e):n}function Zu(e){var n=pe();return Rf(n,$t,e)}function Rf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,w=null,z=n,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ot&Q)===Q:(zi&Q)===Q){var j=z.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===ba&&(F=!0);else if((zi&j)===j){z=z.next,j===ba&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=Q,y=f):w=w.next=Q,Rt.lanes|=j,wr|=j;Q=z.action,xs&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=j,y=f):w=w.next=j,Rt.lanes|=Q,wr|=Q;z=z.next}while(z!==null&&z!==n);if(w===null?y=f:w.next=E,!pn(f,e.memoizedState)&&(be=!0,F&&(a=Ra,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);pn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fg(e,n,a){var o=Rt,h=pe(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!pn(($t||h).memoizedState,a);if(y&&(h.memoizedState=a,be=!0),h=h.queue,Nf(pg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},mg.bind(null,o,h,a,n),null),Wt===null)throw Error(s(349));f||(zi&127)!==0||dg(o,n,a)}return a}function dg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=$u(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function mg(e,n,a,o){n.value=a,n.getSnapshot=o,gg(n)&&yg(e)}function pg(e,n,a){return a(function(){gg(n)&&yg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function yg(e){var n=Rs(e,2);n!==null&&cn(n,e,2)}function If(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),xs){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function _g(e,n,a,o){return e.baseState=a,Rf(e,$t,typeof o=="function"?o:ji)}function z1(e,n,a,o,h){if(ec(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=a(h,o),w=G.S;w!==null&&w(y,E),Eg(e,n,E)}catch(z){Cf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),Eg(e,n,f)}catch(z){Cf(e,n,z)}}function Eg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tg(e,n,o)},function(o){return Cf(e,n,o)}):Tg(e,n,a)}function Tg(e,n,a){n.status="fulfilled",n.value=a,Ag(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,vg(e,a)))}function Cf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ag(n),n=n.next;while(n!==o)}e.action=null}function Ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sg(e,n){return n}function bg(e,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var o=Rt;if(Ut){if(ee){e:{for(var h=ee,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=kn(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},a.queue=o,a=Hg.bind(null,Rt,o),o.dispatch=a,o=If(!1),f=xf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=z1.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Rg(e){var n=pe();return wg(n,$t,e)}function wg(e,n,a){if(n=Rf(e,n,Sg)[0],e=Zu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(y){throw y===wa?qu:y}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Oa(9,{destroy:void 0},j1.bind(null,h,a),null)),[o,f,e]}function j1(e,n){e.action=n}function Ig(e){var n=pe(),a=$t;if(a!==null)return wg(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Oa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=$u(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Cg(){return pe().memoizedState}function Wu(e,n,a,o){var h=nn();Rt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function tc(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&vf(o,$t.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(Rt.flags|=e,h.memoizedState=Oa(1|n,f,a,o))}function Ng(e,n){Wu(8390656,8,e,n)}function Nf(e,n){tc(2048,8,e,n)}function B1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=$u(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Dg(e){var n=pe().memoizedState;return B1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Og(e,n){return tc(4,2,e,n)}function Mg(e,n){return tc(4,4,e,n)}function Vg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xg(e,n,a){a=a!=null?a.concat([e]):null,tc(4,4,Vg.bind(null,n,e),a)}function Df(){}function kg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ug(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),xs){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function Of(e,n,a){return a===void 0||(zi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ly(),Rt.lanes|=e,wr|=e,a)}function Lg(e,n,a,o){return pn(a,n)?a:Ca.current!==null?(e=Of(e,a,o),pn(e,n)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=Ly(),Rt.lanes|=e,wr|=e,n)}function Pg(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,xf(e,!1,n,a);try{var w=h(),z=G.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=U1(w,o);tl(e,n,F,Tn(e))}else tl(e,n,o,Tn(e))}catch(Q){tl(e,n,{then:function(){},status:"rejected",reason:Q},Tn())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function q1(){}function Mf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=zg(e).queue;Pg(e,h,n,ht,a===null?q1:function(){return jg(e),a(o)})}function zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jg(e){var n=zg(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},Tn())}function Vf(){return He(yl)}function Bg(){return pe().memoizedState}function qg(){return pe().memoizedState}function H1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Er(a);var o=Tr(n,e,a);o!==null&&(cn(o,n,a),Xo(o,n,a)),n={cache:lf()},e.payload=n;return}n=n.return}}function F1(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(e)?Fg(n,a):(a=$h(e,n,a,o),a!==null&&(cn(a,e,o),Gg(a,n,o)))}function Hg(e,n,a){var o=Tn();tl(e,n,a,o)}function tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(e))Fg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return ku(e,n,h,0),Wt===null&&xu(),!1}catch{}if(a=$h(e,n,h,o),a!==null)return cn(a,e,o),Gg(a,n,o),!0}return!1}function xf(e,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(n)throw Error(s(479))}else n=$h(e,a,o,2),n!==null&&cn(n,e,2)}function ec(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Fg(e,n){Na=Yu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Gg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}var el={readContext:He,use:Ju,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};el.useEffectEvent=ce;var Kg={readContext:He,use:Ju,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Ng,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Wu(4194308,4,Vg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Wu(4194308,4,e,n)},useInsertionEffect:function(e,n){Wu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(xs){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(xs){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=F1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,a=Hg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(e,n){var a=nn();return Of(a,e,n)},useTransition:function(){var e=If(!1);return e=Pg.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=nn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Ot&127)!==0||dg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ng(pg.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},mg.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Ut){var a=Ti,o=Ei;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=L1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Vf,useFormState:bg,useActionState:bg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return nn().memoizedState=H1.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:He,use:Ju,useCallback:kg,useContext:He,useEffect:Nf,useImperativeHandle:xg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Ug,useReducer:Zu,useRef:Cg,useState:function(){return Zu(ji)},useDebugValue:Df,useDeferredValue:function(e,n){var a=pe();return Lg(a,$t.memoizedState,e,n)},useTransition:function(){var e=Zu(ji)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Vf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var a=pe();return _g(a,$t,e,n)},useMemoCache:bf,useCacheRefresh:qg};kf.useEffectEvent=Dg;var Qg={readContext:He,use:Ju,useCallback:kg,useContext:He,useEffect:Nf,useImperativeHandle:xg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Ug,useReducer:wf,useRef:Cg,useState:function(){return wf(ji)},useDebugValue:Df,useDeferredValue:function(e,n){var a=pe();return $t===null?Of(a,e,n):Lg(a,$t.memoizedState,e,n)},useTransition:function(){var e=wf(ji)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Vf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var a=pe();return $t!==null?_g(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:qg};Qg.useEffectEvent=Dg;function Uf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Er(o);h.payload=n,a!=null&&(h.callback=a),n=Tr(e,h,o),n!==null&&(cn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Er(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Tr(e,h,o),n!==null&&(cn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=Er(a);o.tag=2,n!=null&&(o.callback=n),n=Tr(e,o,a),n!==null&&(cn(n,e,a),Xo(n,e,a))}};function Yg(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function Xg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function ks(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function $g(e){Vu(e)}function Jg(e){console.error(e)}function Zg(e){Vu(e)}function nc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,n,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(e,n)},a}function ty(e){return e=Er(e),e.tag=3,e}function ey(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Wg(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Wg(n,a,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function G1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?mc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(e,o,h)),!1}throw Error(s(435,a.tag))}return ud(e,o,h),mc(),!1}if(Ut)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(s(422),{cause:o}),Fo(Dn(e,a)))):(o!==nf&&(n=Error(s(423),{cause:o}),Fo(Dn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=Pf(e.stateNode,o,h),mf(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=Dn(f,a),ul===null?ul=[f]:ul.push(f),he!==4&&(he=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,o,e),mf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ey(h,e,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(s(461)),be=!1;function Fe(e,n,a,o){n.child=e===null?sg(n,null,a,o):Vs(n,e.child,a,o)}function ny(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ns(n),o=Ef(e,n,a,y,f,h),E=Tf(),e!==null&&!be?(Af(e,n,h),Bi(e,n,h)):(Ut&&E&&tf(n),n.flags|=1,Fe(e,n,o,h),n.child)}function iy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=Lu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(y,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return jf(e,n,a,o,h)}function sy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):gf(),ug(n);else return o=n.lanes=536870912,ay(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),lg(n,f),Sr(),n.memoizedState=null):(e!==null&&Bu(n,null),gf(),Sr());return Fe(e,n,h,a),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(e,n,a,o,h){var f=cf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Bu(n,null),gf(),ug(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function ic(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,a){return Vs(n,e.child,null,a),e=ic(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function K1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=ic(n,o),n.lanes=536870912,nl(null,e);if(_f(n),(e=ee)?(e=v_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=n,n.child=a,qe=n,ee=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return ic(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Wt,o!==null&&(y=So(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Rs(e,y),cn(o,e,y),zf;mc(),n=oy(e,n,a)}else e=f.treeContext,ee=kn(y.nextSibling),qe=n,Ut=!0,gr=null,Vn=!1,e!==null&&Qp(n,e),n=ic(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function rc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,o,h){return Ns(n),a=Ef(e,n,a,o,void 0,h),o=Tf(),e!==null&&!be?(Af(e,n,h),Bi(e,n,h)):(Ut&&o&&tf(n),n.flags|=1,Fe(e,n,a,h),n.child)}function ly(e,n,a,o,h,f){return Ns(n),n.updateQueue=null,a=hg(n,o,a,h),cg(e),o=Tf(),e!==null&&!be?(Af(e,n,f),Bi(e,n,f)):(Ut&&o&&tf(n),n.flags|=1,Fe(e,n,a,f),n.child)}function uy(e,n,a,o,h){if(Ns(n),n.stateNode===null){var f=va,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):va,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Uf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=ks(a,E);f.props=w;var z=f.context,F=a.contextType;y=va,typeof F=="object"&&F!==null&&(y=He(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Xg(n,f,o,y),vr=!1;var j=n.memoizedState;f.state=j,Jo(n,o,f,h),$o(),z=n.memoizedState,E||j!==z||vr?(typeof Q=="function"&&(Uf(n,a,Q,o),z=n.memoizedState),(w=vr||Yg(n,a,w,o,j,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(e,n),y=n.memoizedProps,F=ks(a,y),f.props=F,Q=n.pendingProps,j=f.context,z=a.contextType,w=va,typeof z=="object"&&z!==null&&(w=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||j!==w)&&Xg(n,f,o,w),vr=!1,j=n.memoizedState,f.state=j,Jo(n,o,f,h),$o();var q=n.memoizedState;y!==Q||j!==q||vr||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof E=="function"&&(Uf(n,a,E,o),q=n.memoizedState),(F=vr||Yg(n,a,F,o,j,q,w)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,a,h)):Fe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function cy(e,n,a,o){return Is(),n.flags|=256,Fe(e,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:Wp()}}function Hf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function hy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ar(n):Sr(),(e=ee)?(e=v_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=n,n.child=a,qe=n,ee=null)):e=null,e===null)throw yr(n);return Rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Sr(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=ws(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,y,a),n.memoizedState=Bf,nl(null,o)):(Ar(n),Ff(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=Gf(e,n,a)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=ws(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vs(n,e.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,y,a),n.memoizedState=Bf,n=nl(null,o));else if(Ar(n),Rd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,Fo({value:o,source:null,stack:null}),n=Gf(e,n,a)}else if(be||Sa(e,n,a,!1),y=(a&e.childLanes)!==0,be||y){if(y=Wt,y!==null&&(o=So(y,a),o!==0&&o!==w.retryLane))throw w.retryLane=o,Rs(e,o),cn(y,e,o),zf;bd(E)||mc(),n=Gf(e,n,a)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,ee=kn(E.nextSibling),qe=n,Ut=!0,gr=null,Vn=!1,e!==null&&Qp(n,e),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Sr(),E=o.fallback,h=n.mode,w=e.child,z=w.sibling,o=ki(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,z!==null?E=ki(z,E):(E=ws(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(w=Ae._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Wp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,y,a),n.memoizedState=Bf,nl(e.child,o)):(Ar(n),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Ff(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Gf(e,n,a){return Vs(n,e.child,null,a),e=Ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,a)}function Kf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function dy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(me,y),Fe(e,n,o,a),o=Ut?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,a,n);else if(e.tag===19)fy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(n,!0,a,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ki(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function Q1(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),_r(n,Ae,e.memoizedState.cache),Is();break;case 27:case 5:os(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(e,n,a):(Ar(n),e=Bi(e,n,a),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,sy(e,n,a,n.pendingProps);case 24:_r(n,Ae,e.memoizedState.cache)}return Bi(e,n,a)}function my(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Qf(e,a)&&(n.flags&128)===0)return be=!1,Q1(e,n,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(n.flags&1048576)!==0&&Kp(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")Jh(e)?(o=ks(e,o),n.tag=1,n=uy(null,n,e,o,a)):(n.tag=0,n=jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===lt){n.tag=11,n=ny(null,n,e,o,a);break t}else if(h===I){n.tag=14,n=iy(null,n,e,o,a);break t}}throw n=re(e)||e,Error(s(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ks(o,n.pendingProps),uy(e,n,o,h,a);case 3:t:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),Jo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,_r(n,Ae,o),o!==f.cache&&of(n,[Ae],a,!0),$o(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(e,n,o,a);break t}else if(o!==h){h=Dn(Error(s(424)),n),Fo(h),n=cy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=kn(e.firstChild),qe=n,Ut=!0,gr=null,Vn=!0,a=sg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Is(),o===h){n=Bi(e,n,a);break t}Fe(e,n,o,a)}n=n.child}return n;case 26:return rc(e,n),e===null?(a=R_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=Tc(wt.current).createElement(a),o[ve]=n,o[Ue]=e,Ge(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=R_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return os(n),e===null&&Ut&&(o=n.stateNode=A_(n.type,n.pendingProps,wt.current),qe=n,Vn=!0,h=ee,Or(n.type)?(wd=h,ee=kn(o.firstChild)):ee=h),Fe(e,n,n.pendingProps.children,a),rc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ee)&&(o=SA(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,qe=n,ee=kn(o.firstChild),Vn=!1,h=!0):h=!1),h||yr(n)),os(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,P1,null,null,a),yl._currentValue=h),rc(e,n),Fe(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=ee)&&(a=bA(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,qe=n,ee=null,e=!0):e=!1),e||yr(n)),null;case 13:return hy(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,a):Fe(e,n,o,a),n.child;case 11:return ny(e,n,n.type,n.pendingProps,a);case 7:return Fe(e,n,n.pendingProps,a),n.child;case 8:return Fe(e,n,n.pendingProps.children,a),n.child;case 12:return Fe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,_r(n,n.type,o.value),Fe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ns(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,a),n.child;case 14:return iy(e,n,n.type,n.pendingProps,a);case 15:return ry(e,n,n.type,n.pendingProps,a);case 19:return dy(e,n,a);case 31:return K1(e,n,a);case 22:return sy(e,n,a,n.pendingProps);case 24:return Ns(n),o=He(Ae),e===null?(h=cf(),h===null&&(h=Wt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),_r(n,Ae,h)):((e.lanes&a)!==0&&(df(e,n),Jo(n,null,null,a),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,Ae,o)):(o=f.cache,_r(n,Ae,o),o!==h.cache&&of(n,[Ae],a,!0))),Fe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function Yf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw Ms=Hu,hf}else e.flags&=-16777217}function py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D_(n))if(By())e.flags|=8192;else throw Ms=Hu,hf}function ac(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fu():536870912,e.lanes|=n,ka|=n)}function il(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Y1(e,n,a){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),py(n,f)):(ne(n),Yf(n,h,null,o,a))):f?f!==e.memoizedState?(qi(n),ne(n),py(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ne(n),Yf(n,h,e,o,a)),null;case 27:if(ta(n),a=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=st.current,Aa(n)?Yp(n):(e=A_(h,o,a),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(ta(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=st.current,Aa(n))Yp(n);else{var y=Tc(wt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ve]=n,f[Ue]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ne(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h_(e.nodeValue,a)),e||yr(n,!0)}else e=Tc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&gd(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Qu(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,ac(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Hp(a,e),a=a.sibling;return nt(me,me.current&1|2),Ut&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>hc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=Qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ac(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ne(n),null}else 2*tn()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Ut&&Ui(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function X1(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ae),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),yf(),e!==null&&Y(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ae),null;case 25:return null;default:return null}}function gy(e,n){switch(ef(n),n.tag){case 3:Pi(Ae),se();break;case 26:case 27:case 5:ta(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(me);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),yf(),e!==null&&Y(Ds);break;case 24:Pi(Ae)}}function rl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function br(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var w=a,z=E;try{z()}catch(F){Yt(h,w,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function yy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{og(n,a)}catch(o){Yt(e,e.return,o)}}}function _y(e,n,a){a.props=ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function vy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Xf(e,n,a){try{var o=e.stateNode;yA(o,e.type,a,n),o[Ue]=n}catch(h){Yt(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function oc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oc(e,n,a),e=e.sibling;e!==null;)oc(e,n,a),e=e.sibling}function Ty(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[ve]=e,n[Ue]=a}catch(f){Yt(e,e.return,f)}}var Hi=!1,Re=!1,Zf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function $1(e,n){if(e=e.containerInfo,vd=Cc,e=xp(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,w=-1,z=0,F=0,Q=e,j=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=y+h),Q!==f||o!==0&&Q.nodeType!==3||(w=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++F===o&&(w=y),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},Cc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=ks(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Sy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(e,a),o&4&&rl(5,a);break;case 1:if(Gi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Yt(a,a.return,y)}else{var h=ks(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(a,a.return,y)}}o&64&&yy(a),o&512&&sl(a,a.return);break;case 3:if(Gi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{og(e,n)}catch(y){Yt(a,a.return,y)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:Gi(e,a),n===null&&o&4&&vy(a),o&512&&sl(a,a.return);break;case 12:Gi(e,a);break;case 31:Gi(e,a),o&4&&wy(e,a);break;case 13:Gi(e,a),o&4&&Iy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sA.bind(null,a),RA(e,a))));break;case 22:if(o=a.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Hi;var f=Re;Hi=o,(Re=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Gi(e,a),Hi=h,Re=f}break;case 30:break;default:Gi(e,a)}}function by(e){var n=e.alternate;n!==null&&(e.alternate=null,by(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Fi(e,n,a){for(a=a.child;a!==null;)Ry(e,n,a),a=a.sibling}function Ry(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||Ai(a,n),Fi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ai(a,n);var o=oe,h=an;Or(a.type)&&(oe=a.stateNode,an=!1),Fi(e,n,a),ml(a.stateNode),oe=o,an=h;break;case 5:Re||Ai(a,n);case 6:if(o=oe,h=an,oe=null,Fi(e,n,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(an?(e=oe,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):y_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Fi(e,n,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:br(2,a,n),Re||br(4,a,n),Fi(e,n,a);break;case 1:Re||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),Fi(e,n,a);break;case 21:Fi(e,n,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Fi(e,n,a),Re=o;break;default:Fi(e,n,a)}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Yt(n,n.return,a)}}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Yt(n,n.return,a)}}function J1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ay),n;default:throw Error(s(435,e.tag))}}function lc(e,n){var a=J1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=aA.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(s(160));Ry(f,y,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var Xn=null;function Cy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(br(3,e,e.return),rl(3,e),br(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var y=C_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(y=C_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=I_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?N_(h,e.type,e.stateNode):I_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),a!==null&&o&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(bc=null,h=Xn,Xn=Ac(n.containerInfo),on(n,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(at){Yt(e,e.return,at)}Zf&&(Zf=!1,Ny(e));break;case 4:o=Xn,Xn=Ac(e.stateNode.containerInfo),on(n,e),ln(e),Xn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Hi,F=Re;if(Hi=z||h,Re=F||w,on(n,e),Re=F,Hi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Hi||Re||Us(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Yt(w,w.return,at)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(at){Yt(w,w.return,at)}}}else if(n.tag===18){if(a===null){w=n;try{var q=w.stateNode;h?__(q,!0):__(w.stateNode,!1)}catch(at){Yt(w,w.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(e);oc(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(sn(y,""),a.flags&=-33);var E=$f(e);oc(e,E,y);break;case 3:case 4:var w=a.stateNode.containerInfo,z=$f(e);Jf(e,z,w);break;default:throw Error(s(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(e,n.alternate,n),n=n.sibling}function Us(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Us(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),Us(n);break;case 27:ml(n.stateNode);case 26:case 5:Ai(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),rl(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)ag(w[h],E)}catch(z){Yt(o,o.return,z)}}a&&y&64&&yy(f),sl(f,f.return);break;case 27:Ty(f);case 26:case 5:Ki(h,f,a),a&&o===null&&y&4&&vy(f),sl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&y&4&&wy(h,f);break;case 13:Ki(h,f,a),a&&y&4&&Iy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),sl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Wf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(e,n,a,o),n=n.sibling}function Dy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&rl(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):al(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Ma(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(y,n);break;case 24:$n(e,n,a,o),h&2048&&td(n.alternate,n);break;default:$n(e,n,a,o)}}function Ma(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,w=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(f,y,E,w,h),rl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ma(f,y,E,w,h):al(f,y):(F._visibility|=2,Ma(f,y,E,w,h)),h&&z&2048&&Wf(y.alternate,y);break;case 24:Ma(f,y,E,w,h),h&&z&2048&&td(y.alternate,y);break;default:Ma(f,y,E,w,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Wf(o.alternate,o);break;case 24:al(a,o),h&2048&&td(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function Va(e,n,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Oy(e,n,a),e=e.sibling}function Oy(e,n,a){switch(e.tag){case 26:Va(e,n,a),e.flags&ol&&e.memoizedState!==null&&LA(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,a);break;case 3:case 4:var o=Xn;Xn=Ac(e.stateNode.containerInfo),Va(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Va(e,n,a),ol=o):Va(e,n,a));break;default:Va(e,n,a)}}function My(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,xy(o,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&br(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uc(e)):ll(e);break;default:ll(e)}}function uc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,xy(o,e)}My(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}e=e.sibling}}function xy(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:br(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(by(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var Z1={getCacheForType:function(e){var n=He(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Nt=null,Ot=0,Qt=0,vn=null,Rr=!1,xa=!1,ed=!1,Qi=0,he=0,wr=0,Ls=0,nd=0,En=0,ka=0,ul=null,un=null,id=!1,cc=0,ky=0,hc=1/0,fc=null,Ir=null,Ve=0,Cr=null,Ua=null,Yi=0,rd=0,sd=null,Uy=null,cl=0,ad=null;function Tn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:G.T!==null?fd():du()}function Ly(){if(En===0)if((Ot&536870912)===0||Ut){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Nr(e,Ot,En,!1)),hs(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Ls|=a),he===4&&Nr(e,Ot,En,!1)),Si(e))}function Py(e,n,a){if((Ht&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?nA(e,n):ld(e,n,!0),f=o;do{if(h===0){xa&&!o&&Nr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!tA(a)){h=ld(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=ul;var w=E.current.memoizedState.isDehydrated;if(w&&(La(E,y).flags|=256),y=ld(E,y,!1),y!==2){if(ed&&!w){E.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Nr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Nr(o,n,En,!Rr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=cc+300-tn(),10<h)){if(Nr(o,n,En,!Rr),si(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=p_(zy.bind(null,o,a,un,fc,id,n,En,Ls,ka,Rr,f,"Throttled",-0,0),h);break t}zy(o,a,un,fc,id,n,En,Ls,ka,Rr,f,null,-0,0)}}break}while(!0);Si(e)}function zy(e,n,a,o,h,f,y,E,w,z,F,Q,j,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Oy(n,f,Q);var at=(f&62914560)===f?cc-tn():(f&4194048)===f?ky-tn():0;if(at=PA(Q,at),at!==null){Yi=f,e.cancelPendingCommit=at(Qy.bind(null,e,n,f,a,o,h,y,E,w,F,Q,null,j,q)),Nr(e,f,y,!z);return}}Qy(e,n,f,a,o,h,y,E,w)}function tA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n,a,o){n&=~nd,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&fs(e,a,n)}function dc(){return(Ht&6)===0?(hl(0),!1):!0}function od(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Li=Cs=null,Sf(e),Ia=null,Qo=0,e=Nt;for(;e!==null;)gy(e.alternate,e),e=e.return;Nt=null}}function La(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,EA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yi=0,od(),Wt=e,Nt=a=ki(e.current,null),Ot=n,Qt=0,vn=null,Rr=!1,xa=jn(e,n),ed=!1,ka=En=nd=Ls=wr=he=0,un=ul=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,xu(),a}function jy(e,n){Rt=null,G.H=el,n===wa||n===qu?(n=ng(),Qt=3):n===hf?(n=ng(),Qt=4):Qt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Nt===null&&(he=1,nc(e,Dn(n,e.current)))}function By(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?xn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===xn:!1}function qy(){var e=G.H;return G.H=el,e===null?el:e}function Hy(){var e=G.A;return G.A=Z1,e}function mc(){he=4,Rr||(Ot&4194048)!==Ot&&yn.current!==null||(xa=!0),(wr&134217727)===0&&(Ls&134217727)===0||Wt===null||Nr(Wt,Ot,En,!1)}function ld(e,n,a){var o=Ht;Ht|=2;var h=qy(),f=Hy();(Wt!==e||Ot!==n)&&(fc=null,La(e,n)),n=!1;var y=he;t:do try{if(Qt!==0&&Nt!==null){var E=Nt,w=vn;switch(Qt){case 8:od(),y=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Qt;if(Qt=0,vn=null,Pa(e,E,w,z),a&&xa){y=0;break t}break;default:z=Qt,Qt=0,vn=null,Pa(e,E,w,z)}}eA(),y=he;break}catch(F){jy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Li=Cs=null,Ht=o,G.H=h,G.A=f,Nt===null&&(Wt=null,Ot=0,xu()),y}function eA(){for(;Nt!==null;)Fy(Nt)}function nA(e,n){var a=Ht;Ht|=2;var o=qy(),h=Hy();Wt!==e||Ot!==n?(fc=null,hc=tn()+500,La(e,n)):xa=jn(e,n);t:do try{if(Qt!==0&&Nt!==null){n=Nt;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,Pa(e,n,f,1);break;case 2:case 9:if(tg(f)){Qt=0,vn=null,Gy(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Si(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:tg(f)?(Qt=0,vn=null,Gy(n)):(Qt=0,vn=null,Pa(e,n,f,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(y?D_(y):E.stateNode.complete){Qt=0,vn=null;var w=E.sibling;if(w!==null)Nt=w;else{var z=E.return;z!==null?(Nt=z,pc(z)):Nt=null}break e}}Qt=0,vn=null,Pa(e,n,f,5);break;case 6:Qt=0,vn=null,Pa(e,n,f,6);break;case 8:od(),he=6;break t;default:throw Error(s(462))}}iA();break}catch(F){jy(e,F)}while(!0);return Li=Cs=null,G.H=o,G.A=h,Ht=a,Nt!==null?0:(Wt=null,Ot=0,xu(),he)}function iA(){for(;Nt!==null&&!Lh();)Fy(Nt)}function Fy(e){var n=my(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?pc(e):Nt=n}function Gy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Sf(n);default:gy(a,n),n=Nt=Hp(n,Qi),n=my(a,n,Qi)}e.memoizedProps=e.pendingProps,n===null?pc(e):Nt=n}function Pa(e,n,a,o){Li=Cs=null,Sf(n),Ia=null,Qo=0;var h=n.return;try{if(G1(e,h,n,a,Ot)){he=1,nc(e,Dn(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;he=1,nc(e,Dn(a,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:xa||(Ot&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){Ky(n,Rr);return}e=n.return;var a=Y1(n.alternate,n,Qi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);he===0&&(he=5)}function Ky(e,n){do{var a=X1(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);he=6,Nt=null}function Qy(e,n,a,o,h,f,y,E,w){e.cancelPendingCommit=null;do gc();while(Ve!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Xh,jh(e,a,f,y,E,w),e===Wt&&(Nt=Wt=null,Ot=0),Ua=n,Cr=e,Yi=a,rd=f,sd=h,Uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oA(sr,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,y=Ht,Ht|=4;try{$1(e,n,a)}finally{Ht=y,et.p=h,G.T=o}}Ve=1,Yy(),Xy(),$y()}}function Yy(){if(Ve===1){Ve=0;var e=Cr,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{Cy(n,e);var f=Ed,y=xp(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Vp(E.ownerDocument.documentElement,E)){if(w!==null&&Fh(E)){var z=w.start,F=w.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,dt=Math.min(w.start,at),Zt=w.end===void 0?dt:Math.min(w.end,at);!q.extend&&dt>Zt&&(y=Zt,Zt=dt,dt=y);var k=Mp(E,dt),O=Mp(E,Zt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),dt>Zt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Cc=!!vd,Ed=vd=null}finally{Ht=h,et.p=o,G.T=a}}e.current=n,Ve=2}}function Xy(){if(Ve===2){Ve=0;var e=Cr,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{Sy(e,n.alternate,n)}finally{Ht=h,et.p=o,G.T=a}}Ve=3}}function $y(){if(Ve===4||Ve===3){Ve=0,au();var e=Cr,n=Ua,a=Yi,o=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Ua=Cr=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Oi(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=h}}(Yi&3)!==0&&gc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?cl++:(cl=0,ad=e):cl=0,hl(0)}}function Jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function gc(){return Yy(),Xy(),$y(),Zy()}function Zy(){if(Ve!==5)return!1;var e=Cr,n=rd;rd=0;var a=Oi(Yi),o=G.T,h=et.p;try{et.p=32>a?32:a,G.T=null,a=sd,sd=null;var f=Cr,y=Yi;if(Ve=0,Ua=Cr=null,Yi=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Vy(f.current),Dy(f,f.current,y,a),Ht=E,hl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=h,G.T=o,Jy(e,n)}}function Wy(e,n,a){n=Dn(a,n),n=Pf(e.stateNode,n,2),e=Tr(e,n,2),e!==null&&(hs(e,2),Si(e))}function Yt(e,n,a){if(e.tag===3)Wy(e,e,a);else for(;n!==null;){if(n.tag===3){Wy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=Dn(a,e),a=ty(2),o=Tr(n,a,2),o!==null&&(ey(a,o,n,e),hs(o,2),Si(o));break}}n=n.return}}function ud(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new W1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ed=!0,h.add(a),e=rA.bind(null,e,n,a),n.then(e,e))}function rA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>tn()-cc?(Ht&2)===0&&La(e,0):nd|=a,ka===Ot&&(ka=0)),Si(e)}function t_(e,n){n===0&&(n=fu()),e=Rs(e,n),e!==null&&(hs(e,n),Si(e))}function sA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),t_(e,a)}function aA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),t_(e,a)}function oA(e,n){return Me(e,n)}var yc=null,za=null,cd=!1,_c=!1,hd=!1,Dr=0;function Si(e){e!==za&&e.next===null&&(za===null?yc=za=e:za=za.next=e),_c=!0,cd||(cd=!0,uA())}function hl(e,n){if(!hd&&_c){hd=!0;do for(var a=!1,o=yc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,r_(o,f))}else f=Ot,f=si(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,r_(o,f));o=o.next}while(a);hd=!1}}function lA(){e_()}function e_(){_c=cd=!1;var e=0;Dr!==0&&vA()&&(e=Dr);for(var n=tn(),a=null,o=yc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(_c=!0)),o=h}Ve!==0&&Ve!==5||hl(e),Dr!==0&&(Dr=0)}function n_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-fe(f),E=1<<y,w=h[y];w===-1?((E&a)===0||(E&o)!==0)&&(h[y]=zh(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Ot,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Oi(a)){case 2:case 8:a=To;break;case 32:a=sr;break;case 268435456:a=ou;break;default:a=sr}return o=i_.bind(null,e),a=Me(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var o=Ot;return o=si(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Py(e,o,n),n_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?i_.bind(null,e):null)}function r_(e,n){if(gc())return null;Py(e,n,!0)}function uA(){TA(function(){(Ht&6)!==0?Me(Eo,lA):e_()})}function fd(){if(Dr===0){var e=ba;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Dr=e}return Dr}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function a_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function cA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=s_((h[Ue]||null).action),y=o.submitter;y&&(n=(n=y[Ue]||null)?s_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var w=y?a_(h,y):new FormData(h);Mf(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?a_(h,y):new FormData(h),Mf(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],hA=md.toLowerCase(),fA=md[0].toUpperCase()+md.slice(1);Yn(hA,"on"+fA)}Yn(Lp,"onAnimationEnd"),Yn(Pp,"onAnimationIteration"),Yn(zp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(C1,"onTransitionRun"),Yn(N1,"onTransitionStart"),Yn(D1,"onTransitionCancel"),Yn(jp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function o_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Vu(F)}h.currentTarget=null,f=w}else for(y=0;y<o.length;y++){if(E=o[y],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Vu(F)}h.currentTarget=null,f=w}}}}function Dt(e,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=e+"__bubble";a.has(o)||(l_(n,e,2,!1),a.add(o))}function pd(e,n,a){var o=0;n&&(o|=4),l_(a,e,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[vc]){e[vc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(dA.has(a)||pd(a,!1,e),pd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vc]||(n[vc]=!0,pd("selectionchange",!1,n))}}function l_(e,n,a,o){switch(L_(n)){case 2:var h=BA;break;case 8:h=qA;break;default:h=Od}a=h.bind(null,n,a,e),h=void 0,!ys||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function yd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){o=f=y;continue t}E=E.parentNode}}o=o.return}hr(function(){var z=f,F=wn(a),Q=[];t:{var j=Bp.get(e);if(j!==void 0){var q=gi,at=e;switch(e){case"keypress":if(vs(a)===0)break t;case"keydown":case"keyup":q=Du;break;case"focusin":at="focus",q=Ts;break;case"focusout":at="blur",q=Ts;break;case"beforeblur":case"afterblur":q=Ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Lp:case Pp:case zp:q=Su;break;case jp:q=A;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xi;break;case"toggle":case"beforetoggle":q=bt}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),k=dt?j!==null?j+"Capture":null:j;dt=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Fn(O,k),K!=null&&dt.push(dl(O,K,P))),Zt)break;O=O.return}0<dt.length&&(j=new q(j,at,null,a,F),Q.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Vo&&(at=a.relatedTarget||a.fromElement)&&(ui(at)||at[oi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=z,at=at?ui(at):null,at!==null&&(Zt=c(at),dt=at.tag,at!==Zt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(dt=Lo,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=xi,K="onPointerLeave",k="onPointerEnter",O="pointer"),Zt=q==null?j:dn(q),P=at==null?j:dn(at),j=new dt(K,O+"leave",q,a,F),j.target=Zt,j.relatedTarget=P,K=null,ui(F)===z&&(dt=new dt(k,O+"enter",at,a,F),dt.target=P,dt.relatedTarget=Zt,K=dt),Zt=K,q&&at)e:{for(dt=mA,k=q,O=at,P=0,K=k;K;K=dt(K))P++;K=0;for(var ut=O;ut;ut=dt(ut))K++;for(;0<P-K;)k=dt(k),P--;for(;0<K-P;)O=dt(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){dt=k;break e}k=dt(k),O=dt(O)}dt=null}else dt=null;q!==null&&u_(Q,j,q,dt,!1),at!==null&&Zt!==null&&u_(Q,Zt,at,dt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=wp;else if(bp(j))if(Ip)jt=R1;else{jt=S1;var ot=A1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&la(z.elementType)&&(jt=wp):jt=b1;if(jt&&(jt=jt(e,z))){Rp(Q,jt,a,F);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ot=z?dn(z):window,e){case"focusin":(bp(ot)||ot.contentEditable==="true")&&(ga=ot,Gh=z,qo=null);break;case"focusout":qo=Gh=ga=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,kp(Q,a,F);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":kp(Q,a,F)}var It;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else pa?As(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(vi&&a.locale!=="ko"&&(pa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&pa&&(It=ko()):(pi=F,xo="value"in pi?pi.value:pi.textContent,pa=!0)),ot=Ec(z,Mt),0<ot.length&&(Mt=new _i(Mt,e,null,a,F),Q.push({event:Mt,listeners:ot}),It?Mt.data=It:(It=ma(a),It!==null&&(Mt.data=It)))),(It=Cn?_1(e,a):v1(e,a))&&(Mt=Ec(z,"onBeforeInput"),0<Mt.length&&(ot=new _i("onBeforeInput","beforeinput",null,a,F),Q.push({event:ot,listeners:Mt}),ot.data=It)),cA(Q,e,z,a,F)}o_(Q,n)})}function dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ec(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Fn(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function mA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||z===null||(w=z,h?(z=Fn(a,f),z!=null&&y.unshift(dl(a,z,w))):h||(z=Fn(a,f),z!=null&&y.push(dl(a,z,w)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var pA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace(pA,`
`).replace(gA,"")}function h_(e,n){return n=c_(n),c_(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,aa(e,a,o))}}function _d(e,n,a,o,h,f){switch(a){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,f,y,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=f=y=h=null,w=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":w=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Jt(e,n,o,F,a,null)}}yu(e,f,E,w,z,y,h,!1);return;case"select":Dt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?or(e,!!o,n,!1):a!=null&&or(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(e,n,y,E,a,null)}lr(e,o,h,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null)&&(w==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,w,o,a,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Dt(fl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,z,o,a,null)}return;default:if(la(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&_d(e,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function yA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,w=null,z=null,F=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Jt(e,n,j,q,o,Q)}}oa(e,y,E,w,z,F,f,h);return;case"select":q=y=E=j=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=a[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Jt(e,n,h,f,o,w)}n=E,a=y,o=q,j!=null?or(e,!!a,j,!1):!!o!=!!a&&(n!=null?or(e,!!a,n,!0):or(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Jt(e,n,y,h,o,f)}_u(e,j,q);return;case"option":for(var at in a)j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Jt(e,n,at,null,o,j));for(w in o)j=o[w],q=a[w],o.hasOwnProperty(w)&&j!==q&&(j!=null||q!=null)&&(w==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Jt(e,n,w,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&Jt(e,n,dt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(e,n,z,j,o,q)}return;default:if(la(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&_d(e,n,Zt,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||_d(e,n,F,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,j);for(Q in o)j=o[Q],q=a[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||Jt(e,n,Q,j,o,q)}function f_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _A(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&f_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var w=a[o],z=w.startTime;if(z>E)break;var F=w.transferSize,Q=w.initiatorType;F&&f_(Q)&&(w=w.responseEnd,y+=F*(w<E?1:(E-z)/(w-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function vA(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(AA)}:p_;function AA(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function y_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ha(n)}function __(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function bA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function v_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function E_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function A_(e,n,a){switch(n=Tc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var Un=new Map,S_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=et.d;et.d={f:wA,r:IA,D:CA,C:NA,L:DA,m:OA,X:VA,S:MA,M:xA};function wA(){var e=Xi.f(),n=dc();return e||n}function IA(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?jg(n):Xi.r(e)}var ja=typeof document>"u"?null:document;function b_(e,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function CA(e){Xi.D(e),b_("dns-prefetch",e,null)}function NA(e,n){Xi.C(e,n),b_("preconnect",e,n)}function DA(e,n,a){Xi.L(e,n,a);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function OA(e,n){Xi.m(e,n);var a=ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function MA(e,n,a){Xi.S(e,n,a);var o=ja;if(o&&e){var h=ci(o).hoistableStyles,f=Ba(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(pl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(f))&&Id(e,a);var w=y=o.createElement("link");Ee(w),Ge(w,"link",e),w._p=new Promise(function(z,F){w.onload=z,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function VA(e,n){Xi.X(e,n);var a=ja;if(a&&e){var o=ci(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&Cd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xA(e,n){Xi.M(e,n);var a=ja;if(a&&e){var o=ci(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Cd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function R_(e,n,a,o){var h=(h=wt.current)?Ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ba(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=ci(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(pl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),f||kA(h,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ba(e){return'href="'+rn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function kA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ee(n),e.head.appendChild(n))}function qa(e){return'[src="'+rn(e)+'"]'}function gl(e){return"script[async]"+e}function I_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),Sc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=w_(a),(h=Un.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Ge(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,e),n.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(gl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Un.get(f))&&(o=S({},a),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,e));return n.instance}function Sc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var bc=null;function C_(e,n,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function N_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function UA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function LA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=w_(o),(h=Un.get(h))&&Id(o,h),f=f.createElement("link"),Ee(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Rc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function PA(e,n){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Nd===0&&(Nd=62500*_A());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,n.forEach(zA,e),wc=null,Rc.call(e))}function zA(e,n){if(!(n.state.loading&4)){var a=wc.get(e);if(a)var o=a.get(null);else{a=new Map,wc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:vt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function jA(e,n,a,o,h,f,y,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function O_(e,n,a,o,h,f,y,E,w,z,F,Q){return e=new jA(e,n,a,y,w,z,F,Q,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),e}function M_(e){return e?(e=va,e):va}function V_(e,n,a,o,h,f){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Er(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Tr(e,o,n),a!==null&&(cn(a,e,n),Xo(a,e,n))}function x_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Dd(e,n){x_(e,n),(e=e.alternate)&&x_(e,n)}function k_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&cn(n,e,67108864),Dd(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var n=Tn();n=ds(n);var a=Rs(e,n);a!==null&&cn(a,e,n),Dd(e,n)}}var Cc=!0;function BA(e,n,a,o){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Od(e,n,a,o)}finally{et.p=f,G.T=h}}function qA(e,n,a,o){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Od(e,n,a,o)}finally{et.p=f,G.T=h}}function Od(e,n,a,o){if(Cc){var h=Md(o);if(h===null)yd(e,n,o,Nc,a),P_(e,o);else if(FA(h,e,n,a,o))o.stopPropagation();else if(P_(e,o),n&4&&-1<HA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ri(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-fe(y);E.entanglements[1]|=w,y&=~w}Si(f),(Ht&6)===0&&(hc=tn()+500,hl(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&cn(E,f,2),dc(),Dd(f,2)}if(f=Md(o),f===null&&yd(e,n,o,Nc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,n,o,null,a)}}function Md(e){return e=wn(e),Vd(e)}var Nc=null;function Vd(e){if(Nc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Nc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case Eo:return 2;case To:return 8;case sr:case Ph:return 32;case ou:return 268435456;default:return 32}default:return 32}}var xd=!1,Mr=null,Vr=null,xr=null,_l=new Map,vl=new Map,kr=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(e,n){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&k_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function FA(e,n,a,o,h){switch(n){case"focusin":return Mr=El(Mr,e,n,a,o,h),!0;case"dragenter":return Vr=El(Vr,e,n,a,o,h),!0;case"mouseover":return xr=El(xr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,n,a,o,h)),!0}return!1}function z_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){U_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){U_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Md(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vo=o,a.target.dispatchEvent(o),Vo=null}else return n=Rn(a),n!==null&&k_(n),e.blockedOn=a,!1;n.shift()}return!0}function j_(e,n,a){Dc(e)&&a.delete(n)}function GA(){xd=!1,Mr!==null&&Dc(Mr)&&(Mr=null),Vr!==null&&Dc(Vr)&&(Vr=null),xr!==null&&Dc(xr)&&(xr=null),_l.forEach(j_),vl.forEach(j_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GA)))}var Mc=null;function B_(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(w){return Oc(w,e)}Mr!==null&&Oc(Mr,e),Vr!==null&&Oc(Vr,e),xr!==null&&Oc(xr,e),_l.forEach(n),vl.forEach(n);for(var a=0;a<kr.length;a++){var o=kr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ue]||null;if(typeof f=="function")y||B_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ue]||null)E=y.formAction;else if(Vd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),B_(a)}}}function q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Vc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();V_(a,o,e,n,null,null)},Vc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;V_(e.current,2,null,e,null,null),dc(),n[oi]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var a=0;a<kr.length&&n!==0&&n<kr[a].priority;a++);kr.splice(a,0,e),a===0&&z_(e)}};var H_=t.version;if(H_!=="19.2.4")throw Error(s(527,H_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var KA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{zn=xc.inject(KA),je=xc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=$g,f=Jg,y=Zg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=O_(e,1,!1,null,null,a,o,null,h,f,y,q_),e[oi]=n.current,gd(e),new kd(n)},Al.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=$g,y=Jg,E=Zg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=O_(e,1,!0,n,a??null,o,h,w,f,y,E,q_),n.context=M_(null),a=n.current,o=Tn(),o=ds(o),h=Er(o),h.callback=null,Tr(a,h,o),a=o,n.current.lanes=a,hs(n,a),Si(n),e[oi]=n.current,gd(e),new Vc(n)},Al.version="19.2.4",Al}var W_;function iS(){if(W_)return Pd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=nS(),Pd.exports}var rS=iS();const sS=PE(rS),aS=()=>{};var tv={};const zE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},oS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,g=_?r[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let N=(p&15)<<2|g>>6,H=g&63;_||(H=64,d||(N=64)),s.push(i[T],i[S],i[N],i[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(zE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):oS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||g==null||S==null)throw new lS;const N=c<<2|p>>4;if(s.push(N),g!==64){const H=p<<4&240|g>>2;if(s.push(H),S!==64){const J=g<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uS=function(r){const t=zE(r);return jE.encodeByteArray(t,!0)},Jc=function(r){return uS(r).replace(/\./g,"")},BE=function(r){try{return jE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hS=()=>cS().__FIREBASE_DEFAULTS__,fS=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&BE(r[1]);return t&&JSON.parse(t)},yh=()=>{try{return aS()||hS()||fS()||dS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qE=r=>yh()?.emulatorHosts?.[r],mS=r=>{const t=qE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},HE=()=>yh()?.config,FE=r=>yh()?.[`_${r}`];class pS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GE(r){return(await fetch(r,{credentials:"include"})).ok}function gS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Dl={};function yS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function _S(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let ev=!1;function KE(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Dl[r]===t||Dl[r]||ev)return;Dl[r]=t;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=yS().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{ev=!0,d()},N}function T(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=_S(s),H=i("text"),J=document.getElementById(H)||document.createElement("span"),Z=i("learnmore"),W=document.getElementById(Z)||document.createElement("a"),ft=i("preprendIcon"),yt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const vt=N.element;p(vt),T(W,Z);const lt=g();_(yt,ft),vt.append(yt,J,W,lt),document.body.appendChild(vt)}c?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ES(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const CS="FirebaseError";class ir extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=CS,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?NS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,s)}}function NS(r,t){return r.replace(DS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const DS=/\{\$([^}]+)}/g;function OS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(nv(c)&&nv(d)){if(!qs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function Xl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function bl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Rl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function MS(r,t){const i=new VS(r,t);return i.subscribe.bind(i)}class VS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");xS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function ke(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ps="[DEFAULT]";class kS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new pS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LS(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:US(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(r){return r===Ps?void 0:r}function LS(r){return r.instantiationMode==="EAGER"}class PS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new kS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const zS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},jS=Vt.INFO,BS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},qS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=BS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=jS,this._logHandler=qS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const HS=(r,t)=>t.some(i=>r instanceof i);let iv,rv;function FS(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GS(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,em=new WeakMap,YE=new WeakMap,Hd=new WeakMap,Dm=new WeakMap;function KS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&QE.set(i,r)}).catch(()=>{}),Dm.set(t,r),t}function QS(r){if(em.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});em.set(r,t)}let nm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function YS(r){nm=r(nm)}function XS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Fd(this),t,...i);return YE.set(s,t.sort?t.sort():[t]),Hr(s)}:GS().includes(r)?function(...t){return r.apply(Fd(this),t),Hr(QE.get(this))}:function(...t){return Hr(r.apply(Fd(this),t))}}function $S(r){return typeof r=="function"?XS(r):(r instanceof IDBTransaction&&QS(r),HS(r,FS())?new Proxy(r,nm):r)}function Hr(r){if(r instanceof IDBRequest)return KS(r);if(Hd.has(r))return Hd.get(r);const t=$S(r);return t!==r&&(Hd.set(r,t),Dm.set(t,r)),t}const Fd=r=>Dm.get(r);function JS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Hr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Hr(d.result),_.oldVersion,_.newVersion,Hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const ZS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],Gd=new Map;function sv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=WS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ZS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let g=_.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&_.done]))[0]};return Gd.set(t,c),c}YS(r=>({...r,get:(t,i,s)=>sv(t,i)||r.get(t,i,s),has:(t,i)=>!!sv(t,i)||r.has(t,i)}));class tb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function eb(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",av="0.14.8";const Wi=new Nm("@firebase/app"),nb="@firebase/app-compat",ib="@firebase/analytics-compat",rb="@firebase/analytics",sb="@firebase/app-check-compat",ab="@firebase/app-check",ob="@firebase/auth",lb="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/data-connect",hb="@firebase/database-compat",fb="@firebase/functions",db="@firebase/functions-compat",mb="@firebase/installations",pb="@firebase/installations-compat",gb="@firebase/messaging",yb="@firebase/messaging-compat",_b="@firebase/performance",vb="@firebase/performance-compat",Eb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Ab="@firebase/storage",Sb="@firebase/storage-compat",bb="@firebase/firestore",Rb="@firebase/ai",wb="@firebase/firestore-compat",Ib="firebase",Cb="12.9.0";const rm="[DEFAULT]",Nb={[im]:"fire-core",[nb]:"fire-core-compat",[rb]:"fire-analytics",[ib]:"fire-analytics-compat",[ab]:"fire-app-check",[sb]:"fire-app-check-compat",[ob]:"fire-auth",[lb]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-data-connect",[hb]:"fire-rtdb-compat",[fb]:"fire-fn",[db]:"fire-fn-compat",[mb]:"fire-iid",[pb]:"fire-iid-compat",[gb]:"fire-fcm",[yb]:"fire-fcm-compat",[_b]:"fire-perf",[vb]:"fire-perf-compat",[Eb]:"fire-rc",[Tb]:"fire-rc-compat",[Ab]:"fire-gcs",[Sb]:"fire-gcs-compat",[bb]:"fire-fst",[wb]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};const Zc=new Map,Db=new Map,sm=new Map;function ov(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const t=r.name;if(sm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const i of Zc.values())ov(i,r);for(const i of Db.values())ov(i,r);return!0}function Om(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Yl("app","Firebase",Ob);class Mb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const uo=Cb;function XE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:rm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Fr.create("bad-app-name",{appName:String(l)});if(i||(i=HE()),!i)throw Fr.create("no-options");const c=Zc.get(l);if(c){if(qs(i,c.options)&&qs(s,c.config))return c;throw Fr.create("duplicate-app",{appName:l})}const d=new PS(l);for(const _ of sm.values())d.addComponent(_);const p=new Mb(i,s,d);return Zc.set(l,p),p}function $E(r=rm){const t=Zc.get(r);if(!t&&r===rm&&HE())return XE();if(!t)throw Fr.create("no-app",{appName:r});return t}function Gr(r,t,i){let s=Nb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}eo(new Hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Vb="firebase-heartbeat-database",xb=1,Ul="firebase-heartbeat-store";let Kd=null;function JE(){return Kd||(Kd=JS(Vb,xb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function kb(r){try{const i=(await JE()).transaction(Ul),s=await i.objectStore(Ul).get(ZE(r));return await i.done,s}catch(t){if(t instanceof ir)Wi.warn(t.message);else{const i=Fr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function lv(r,t){try{const s=(await JE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,ZE(r)),await s.done}catch(i){if(i instanceof ir)Wi.warn(i.message);else{const s=Fr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}const Ub=1024,Lb=30;class Pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Lb){const l=Bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:i,unsentEntries:s}=zb(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function zb(r,t=Ub){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),cv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),cv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function cv(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function Bb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function qb(r){eo(new Hs("platform-logger",t=>new tb(t),"PRIVATE")),eo(new Hs("heartbeat",t=>new Pb(t),"PRIVATE")),Gr(im,av,r),Gr(im,av,"esm2020"),Gr("fire-js","")}qb("");function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hb=WE,tT=new Yl("auth","Firebase",WE());const Wc=new Nm("@firebase/auth");function Fb(r,...t){Wc.logLevel<=Vt.WARN&&Wc.warn(`Auth (${uo}): ${r}`,...t)}function Bc(r,...t){Wc.logLevel<=Vt.ERROR&&Wc.error(`Auth (${uo}): ${r}`,...t)}function ti(r,...t){throw Mm(r,...t)}function Ri(r,...t){return Mm(r,...t)}function eT(r,t,i){const s={...Hb(),[t]:i};return new Yl("auth","Firebase",s).create(t,{appName:r.name})}function Zi(r){return eT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return tT.create(r,...t)}function pt(r,t,...i){if(!r)throw Mm(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function tr(r,t){r||$i(t)}function am(){return typeof self<"u"&&self.location?.href||""}function Gb(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function Kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gb()||AS()||"connection"in navigator)?navigator.onLine:!0}function Qb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $l{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=vS()||SS()}get(){return Kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(r,t){tr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class nT{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Xb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$b=new $l(3e4,6e4);function is(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rs(r,t,i,s,l={}){return iT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Xl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:_,...c};return TS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),nT.fetch()(await rT(r,r.config.apiHost,i,p),g)})}async function iT(r,t,i){r._canInitEmulator=!1;const s={...Yb,...t};try{const l=new Zb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,g]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(r,"user-disabled",d);const T=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eT(r,T,g);ti(r,T)}}catch(l){if(l instanceof ir)throw l;ti(r,"network-request-failed",{message:String(l)})}}async function Jl(r,t,i,s,l={}){const c=await rs(r,t,i,s,l);return"mfaPendingCredential"in c&&ti(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function rT(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Vm(r.config,l):`${r.config.apiScheme}://${l}`;return Xb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Jb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),$b.get())})}}function kc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ri(r,t,s);return l.customData._tokenResponse=i,l}function fv(r){return r!==void 0&&r.enterprise!==void 0}class Wb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Jb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tR(r,t){return rs(r,"GET","/v2/recaptchaConfig",is(r,t))}async function eR(r,t){return rs(r,"POST","/v1/accounts:delete",t)}async function th(r,t){return rs(r,"POST","/v1/accounts:lookup",t)}function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nR(r,t=!1){const i=ke(r),s=await i.getIdToken(t),l=xm(s);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ol(Qd(l.auth_time)),issuedAtTime:Ol(Qd(l.iat)),expirationTime:Ol(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function xm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=BE(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function dv(r){const t=xm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ir&&iR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class rR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(r){const t=r.auth,i=await r.getIdToken(),s=await Ll(r,th(t,{idToken:i}));pt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?sT(l.providerUserInfo):[],d=aR(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,g=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function sR(r){const t=ke(r);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function sT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oR(r,t){const i=await iT(r,{},async()=>{const s=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await rT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),nT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lR(r,t){return rs(r,"POST","/v2/accounts:revokeToken",is(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=dv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await oR(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Xa;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Lr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new rR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return nR(this,t)}reload(){return sR(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Ll(this,eR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,g=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:H,providerData:J,stsTokenManager:Z}=i;pt(S&&Z,t,"internal-error");const W=Xa.fromJSON(this.name,Z);pt(typeof S=="string",t,"internal-error"),Lr(s,t.name),Lr(l,t.name),pt(typeof N=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(p,t.name),Lr(_,t.name),Lr(g,t.name),Lr(T,t.name);const ft=new Jn({uid:S,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:g,lastLoginAt:T});return J&&Array.isArray(J)&&(ft.providerData=J.map(yt=>({...yt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,s=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?sT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Xa;p.updateFromIdToken(s);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,g),_}}const mv=new Map;function Ji(r){tr(r instanceof Function,"Expected a class definition");let t=mv.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,mv.set(r,t),t)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}aT.type="NONE";const pv=aT;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class $a{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new $a(Ji(pv),t,s);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||Ji(pv);const d=qc(s,t.config.apiKey,t.name);let p=null;for(const g of i)try{const T=await g._get(d);if(T){let S;if(typeof T=="string"){const N=await th(t,{idToken:T}).catch(()=>{});if(!N)break;S=await Jn._fromGetAccountInfoResponse(t,N,T)}else S=Jn._fromJSON(t,T);g!==c&&(p=S),c=g;break}}catch{}const _=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new $a(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new $a(c,t,s))}}function gv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fT(t))return"Blackberry";if(dT(t))return"Webos";if(lT(t))return"Safari";if((t.includes("chrome/")||uT(t))&&!t.includes("edge/"))return"Chrome";if(hT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function oT(r=We()){return/firefox\//i.test(r)}function lT(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uT(r=We()){return/crios\//i.test(r)}function cT(r=We()){return/iemobile/i.test(r)}function hT(r=We()){return/android/i.test(r)}function fT(r=We()){return/blackberry/i.test(r)}function dT(r=We()){return/webos/i.test(r)}function km(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uR(r=We()){return km(r)&&!!window.navigator?.standalone}function cR(){return bS()&&document.documentMode===10}function mT(r=We()){return km(r)||hT(r)||dT(r)||fT(r)||/windows phone/i.test(r)||cT(r)}function pT(r,t=[]){let i;switch(r){case"Browser":i=gv(We());break;case"Worker":i=`${gv(We())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${s}`}class hR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function fR(r,t={}){return rs(r,"GET","/v2/passwordPolicy",is(r,t))}const dR=6;class mR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class pR{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Qb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Zi(this));const i=t?ke(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fR(this),i=new mR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await lR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Fb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $s(r){return ke(r)}class yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=MS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(r){_h=r}function gT(r){return _h.loadJS(r)}function yR(){return _h.recaptchaEnterpriseScript}function _R(){return _h.gapiScript}function vR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ER{constructor(){this.enterprise=new TR}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class TR{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const AR="recaptcha-enterprise",yT="NO_RECAPTCHA";class SR{constructor(t){this.type=AR,this.auth=$s(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{tR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Wb(_);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;fv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(g=>{d(g)}).catch(()=>{d(yT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ER().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&fv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=yR();_.length!==0&&(_+=p),gT(_).then(()=>{l(p,c,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function _v(r,t,i,s=!1,l=!1){const c=new SR(r);let d;if(l)d=yT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lm(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _v(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _v(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function bR(r,t){const i=Om(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qs(c,t??{}))return l;ti(l,"already-initialized")}return i.initialize({options:t})}function RR(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function wR(r,t,i){const s=$s(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=_T(t),{host:d,port:p}=IR(t),_=p===null?"":`:${p}`,g={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(qs(g,s.config.emulator)&&qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,lo(d)?(GE(`${c}//${d}${_}`),KE("Auth",!0)):CR()}function _T(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function IR(r){const t=_T(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:vv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:vv(d)}}}function vv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function CR(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Um{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function NR(r,t){return rs(r,"POST","/v1/accounts:signUp",t)}async function DR(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",is(r,t))}async function OR(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",is(r,t))}async function MR(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",is(r,t))}class Pl extends Um{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Pl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,i,"signInWithPassword",DR);case"emailLink":return OR(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,s,"signUpPassword",NR);case"emailLink":return MR(t,{idToken:i,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ja(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",is(r,t))}const VR="http://localhost";class Fs extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Xl(i)}return t}}function xR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kR(r){const t=bl(Rl(r)).link,i=t?bl(Rl(t)).deep_link_id:null,s=bl(Rl(r)).deep_link_id;return(s?bl(Rl(s)).link:null)||s||i||t||r}class Lm{constructor(t){const i=bl(Rl(t)),s=i.apiKey??null,l=i.oobCode??null,c=xR(i.mode??null);pt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=kR(t);try{return new Lm(i)}catch{return null}}}class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Lm.parseLink(i);return pt(s,"argument-error"),Pl._fromEmailAndCode(t,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Zl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class zr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";class jr extends Zl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class Br extends Zl{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";async function UR(r,t){return Jl(r,"POST","/v1/accounts:signUp",is(r,t))}class Gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Jn._fromIdTokenResponse(t,s,l),d=Ev(s);return new Gs({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Ev(s);return new Gs({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class nh extends ir{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new nh(t,i,s,l)}}function ET(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,c,t,s):c})}async function LR(r,t,i=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Gs._forOperation(r,"link",s)}async function PR(r,t,i=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(Zi(s));const l="reauthenticate";try{const c=await Ll(r,ET(s,l,t,r),i);pt(c.idToken,s,"internal-error");const d=xm(c.idToken);pt(d,s,"internal-error");const{sub:p}=d;return pt(r.uid===p,s,"user-mismatch"),Gs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),c}}async function TT(r,t,i=!1){if(Ln(r.app))return Promise.reject(Zi(r));const s="signIn",l=await ET(r,s,t),c=await Gs._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function zR(r,t){return TT($s(r),t)}async function AT(r){const t=$s(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function jR(r,t,i){if(Ln(r.app))return Promise.reject(Zi(r));const s=$s(r),d=await lm(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UR).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&AT(r),_}),p=await Gs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function BR(r,t,i){return Ln(r.app)?Promise.reject(Zi(r)):zR(ke(r),co.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AT(r),s})}function qR(r,t,i,s){return ke(r).onIdTokenChanged(t,i,s)}function HR(r,t,i){return ke(r).beforeAuthStateChanged(t,i)}function FR(r,t,i,s){return ke(r).onAuthStateChanged(t,i,s)}function GR(r){return ke(r).signOut()}const ih="__sak";class ST{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const KR=1e3,QR=10;class bT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);cR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,QR):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}bT.type="LOCAL";const YR=bT;class RT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}RT.type="SESSION";const wT=RT;function XR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new vh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async g=>g(i.origin,c)),_=await XR(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Pm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class $R{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const g=Pm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===g)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function JR(r){wi().location.href=r}function IT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function ZR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WR(){return navigator?.serviceWorker?.controller||null}function tw(){return IT()?self:null}const CT="firebaseLocalStorageDb",ew=1,rh="firebaseLocalStorage",NT="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function nw(){const r=indexedDB.deleteDatabase(CT);return new Wl(r).toPromise()}function um(){const r=indexedDB.open(CT,ew);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:NT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?t(s):(s.close(),await nw(),t(await um()))})})}async function Tv(r,t,i){const s=Eh(r,!0).put({[NT]:t,value:i});return new Wl(s).toPromise()}async function iw(r,t){const i=Eh(r,!1).get(t),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function Av(r,t){const i=Eh(r,!0).delete(t);return new Wl(i).toPromise()}const rw=800,sw=3;class DT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>sw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(tw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZR(),!this.activeServiceWorker)return;this.sender=new $R(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await Tv(t,ih,"1"),await Av(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>iw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DT.type="LOCAL";const aw=DT;new $l(3e4,6e4);function ow(r,t){return t?Ji(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zm extends Um{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function lw(r){return TT(r.auth,new zm(r),r.bypassAuthState)}function uw(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),PR(i,new zm(r),r.bypassAuthState)}async function cw(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),LR(i,new zm(r),r.bypassAuthState)}class OT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lw;case"linkViaPopup":case"linkViaRedirect":return cw;case"reauthViaPopup":case"reauthViaRedirect":return uw;default:ti(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hw=new $l(2e3,1e4);class Ya extends OT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hw.get())};t()}}Ya.currentPopupAction=null;const fw="pendingRedirect",Hc=new Map;class dw extends OT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const s=await mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mw(r,t){const i=yw(t),s=gw(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function pw(r,t){Hc.set(r._key(),t)}function gw(r){return Ji(r._redirectPersistence)}function yw(r){return qc(fw,r.config.apiKey,r.name)}async function _w(r,t,i=!1){if(Ln(r.app))return Promise.reject(Zi(r));const s=$s(r),l=ow(s,t),d=await new dw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const vw=600*1e3;class Ew{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Tw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!MT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(t))}saveEventToCache(t){this.cachedEventUids.add(Sv(t)),this.lastProcessedEventTime=Date.now()}}function Sv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function MT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Tw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(r);default:return!1}}async function Aw(r,t={}){return rs(r,"GET","/v1/projects",t)}const Sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bw=/^https?/;async function Rw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Aw(r);for(const i of t)try{if(ww(i))return}catch{}ti(r,"unauthorized-domain")}function ww(r){const t=am(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!bw.test(i))return!1;if(Sw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const Iw=new $l(3e4,6e4);function bv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Cw(r){return new Promise((t,i)=>{function s(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(Ri(r,"network-request-failed"))},timeout:Iw.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=vR("iframefcb");return wi()[l]=()=>{gapi.load?s():i(Ri(r,"network-request-failed"))},gT(`${_R()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function Nw(r){return Fc=Fc||Cw(r),Fc}const Dw=new $l(5e3,15e3),Ow="__/auth/iframe",Mw="emulator/auth/iframe",Vw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kw(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Vm(t,Mw):`https://${r.config.authDomain}/${Ow}`,s={apiKey:t.apiKey,appName:r.name,v:uo},l=xw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Xl(s).slice(1)}`}async function Uw(r){const t=await Nw(r),i=wi().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:kw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},Dw.get());function _(){wi().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const Lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pw=500,zw=600,jw="_blank",Bw="http://localhost";class Rv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qw(r,t,i,s=Pw,l=zw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...Lw,width:s.toString(),height:l.toString(),top:c,left:d},g=We().toLowerCase();i&&(p=uT(g)?jw:i),oT(g)&&(t=t||Bw,_.scrollbars="yes");const T=Object.entries(_).reduce((N,[H,J])=>`${N}${H}=${J},`,"");if(uR(g)&&p!=="_self")return Hw(t||"",p),new Rv(null);const S=window.open(t||"",p,T);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new Rv(S)}function Hw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const Fw="__/auth/handler",Gw="emulator/auth/handler",Kw=encodeURIComponent("fac");async function wv(r,t,i,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:uo,eventId:l};if(t instanceof vT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",OS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Zl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),g=_?`#${Kw}=${encodeURIComponent(_)}`:"";return`${Qw(r)}?${Xl(p).slice(1)}${g}`}function Qw({config:r}){return r.emulator?Vm(r,Gw):`https://${r.authDomain}/${Fw}`}const Yd="webStorageSupport";class Yw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wT,this._completeRedirectFn=_w,this._overrideRedirectResult=pw}async _openPopup(t,i,s,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await wv(t,i,s,am(),l);return qw(t,c,Pm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await wv(t,i,s,am(),l);return JR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await Uw(t),s=new Ew(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Rw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return mT()||lT()||km()}}const Xw=Yw;var Iv="@firebase/auth",Cv="1.12.0";class $w{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zw(r){eo(new Hs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(r)},g=new pR(s,l,c,_);return RR(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),eo(new Hs("auth-internal",t=>{const i=$s(t.getProvider("auth").getImmediate());return(s=>new $w(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(Iv,Cv,Jw(r)),Gr(Iv,Cv,"esm2020")}const Ww=300,t2=FE("authIdTokenMaxAge")||Ww;let Nv=null;const e2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>t2)return;const l=i?.token;Nv!==l&&(Nv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function n2(r=$E()){const t=Om(r,"auth");if(t.isInitialized())return t.getImmediate();const i=bR(r,{popupRedirectResolver:Xw,persistence:[aw,YR,wT]}),s=FE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=e2(c.toString());HR(i,d,()=>d(i.currentUser)),qR(i,p=>d(p))}}const l=qE("auth");return l&&wR(i,`http://${l}`),i}function i2(){return document.getElementsByTagName("head")?.[0]??document}gR({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",i2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zw("Browser");var r2="firebase",s2="12.9.0";Gr(r2,s2,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,VT;(function(){var r;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,M,U){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return b.prototype[M].apply(x,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const x=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)x[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;M<16;++M)x[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],M=I.g[2];let U=I.g[3],R;R=b+(U^C&(M^U))+x[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(M^b&(C^M))+x[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=M+(C^U&(b^C))+x[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(b^M&(U^b))+x[3]+3250441966&4294967295,C=M+(R<<22&4294967295|R>>>10),R=b+(U^C&(M^U))+x[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(M^b&(C^M))+x[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=M+(C^U&(b^C))+x[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(b^M&(U^b))+x[7]+4249261313&4294967295,C=M+(R<<22&4294967295|R>>>10),R=b+(U^C&(M^U))+x[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(M^b&(C^M))+x[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=M+(C^U&(b^C))+x[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(b^M&(U^b))+x[11]+2304563134&4294967295,C=M+(R<<22&4294967295|R>>>10),R=b+(U^C&(M^U))+x[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(M^b&(C^M))+x[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=M+(C^U&(b^C))+x[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(b^M&(U^b))+x[15]+1236535329&4294967295,C=M+(R<<22&4294967295|R>>>10),R=b+(M^U&(C^M))+x[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(b^C))+x[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=M+(b^C&(U^b))+x[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(M^U))+x[0]+3921069994&4294967295,C=M+(R<<20&4294967295|R>>>12),R=b+(M^U&(C^M))+x[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(b^C))+x[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=M+(b^C&(U^b))+x[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(M^U))+x[4]+3889429448&4294967295,C=M+(R<<20&4294967295|R>>>12),R=b+(M^U&(C^M))+x[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(b^C))+x[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=M+(b^C&(U^b))+x[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(M^U))+x[8]+1163531501&4294967295,C=M+(R<<20&4294967295|R>>>12),R=b+(M^U&(C^M))+x[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(b^C))+x[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=M+(b^C&(U^b))+x[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(M^U))+x[12]+2368359562&4294967295,C=M+(R<<20&4294967295|R>>>12),R=b+(C^M^U)+x[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^M)+x[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=M+(U^b^C)+x[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^b)+x[14]+4259657740&4294967295,C=M+(R<<23&4294967295|R>>>9),R=b+(C^M^U)+x[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^M)+x[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=M+(U^b^C)+x[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^b)+x[10]+3200236656&4294967295,C=M+(R<<23&4294967295|R>>>9),R=b+(C^M^U)+x[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^M)+x[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=M+(U^b^C)+x[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^b)+x[6]+76029189&4294967295,C=M+(R<<23&4294967295|R>>>9),R=b+(C^M^U)+x[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^M)+x[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=M+(U^b^C)+x[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^b)+x[2]+3299628645&4294967295,C=M+(R<<23&4294967295|R>>>9),R=b+(M^(C|~U))+x[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~M))+x[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=M+(b^(U|~C))+x[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~b))+x[5]+4237533241&4294967295,C=M+(R<<21&4294967295|R>>>11),R=b+(M^(C|~U))+x[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~M))+x[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=M+(b^(U|~C))+x[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~b))+x[1]+2240044497&4294967295,C=M+(R<<21&4294967295|R>>>11),R=b+(M^(C|~U))+x[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~M))+x[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=M+(b^(U|~C))+x[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~b))+x[13]+1309151649&4294967295,C=M+(R<<21&4294967295|R>>>11),R=b+(M^(C|~U))+x[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~M))+x[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=M+(b^(U|~C))+x[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,x=this.C;let M=this.h,U=0;for(;U<b;){if(M==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(x[M++]=I.charCodeAt(U++),M==this.blockSize){l(this,x),M=0;break}}else for(;U<b;)if(x[M++]=I[U++],M==this.blockSize){l(this,x),M=0;break}}this.h=M,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[b++]=this.g[C]>>>x&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let x=!0;for(let M=I.length-1;M>=0;M--){const U=I[M]|0;x&&U==b||(C[M]=U,x=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(g(-I));const b=[];let C=1;for(let x=0;I>=C;x++)b[x]=I/C|0,C*=4294967296;return new d(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return W(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(b,8));let x=S;for(let U=0;U<I.length;U+=8){var M=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+M),b);M<8?(M=g(Math.pow(b,M)),x=x.j(M).add(g(R))):(x=x.j(C),x=x.add(g(R)))}return x}var S=_(0),N=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(Z(this))return-W(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(Z(this))return"-"+W(this).toString(I);const b=g(Math.pow(I,6));var C=this;let x="";for(;;){const M=lt(C,b).g;C=ft(C,M.j(b));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=M,J(C))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function Z(I){return I.h==-1}r.l=function(I){return I=ft(this,I),Z(I)?-1:J(I)?0:1};function W(I){const b=I.g.length,C=[];for(let x=0;x<b;x++)C[x]=~I.g[x];return new d(C,~I.h).add(N)}r.abs=function(){return Z(this)?W(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let M=0;M<=b;M++){let U=x+(this.i(M)&65535)+(I.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);x=R>>>16,U&=65535,R&=65535,C[M]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(I,b){return I.add(W(b))}r.j=function(I){if(J(this)||J(I))return S;if(Z(this))return Z(I)?W(this).j(W(I)):W(W(this).j(I));if(Z(I))return W(this.j(W(I)));if(this.l(H)<0&&I.l(H)<0)return g(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<I.g.length;M++){const U=this.i(x)>>>16,R=this.i(x)&65535,re=I.i(M)>>>16,De=I.i(M)&65535;C[2*x+2*M]+=R*De,yt(C,2*x+2*M),C[2*x+2*M+1]+=U*De,yt(C,2*x+2*M+1),C[2*x+2*M+1]+=R*re,yt(C,2*x+2*M+1),C[2*x+2*M+2]+=U*re,yt(C,2*x+2*M+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function yt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function vt(I,b){this.g=I,this.h=b}function lt(I,b){if(J(b))throw Error("division by zero");if(J(I))return new vt(S,S);if(Z(I))return b=lt(W(I),b),new vt(W(b.g),W(b.h));if(Z(b))return b=lt(I,W(b)),new vt(W(b.g),b.h);if(I.g.length>30){if(Z(I)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var C=N,x=b;x.l(I)<=0;)C=Ct(C),x=Ct(x);var M=mt(C,1),U=mt(x,1);for(x=mt(x,2),C=mt(C,2);!J(x);){var R=U.add(x);R.l(I)<=0&&(M=M.add(C),U=R),x=mt(x,1),C=mt(C,1)}return b=ft(I,M.j(b)),new vt(M,b)}for(M=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=g(C),R=U.j(b);Z(R)||R.l(I)>0;)C-=x,U=g(C),R=U.j(b);J(U)&&(U=N),M=M.add(U),I=ft(I,R)}return new vt(M,I)}r.B=function(I){return lt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function Ct(I){const b=I.g.length+1,C=[];for(let x=0;x<b;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function mt(I,b){const C=b>>5;b%=32;const x=I.g.length-C,M=[];for(let U=0;U<x;U++)M[U]=b>0?I.i(U+C)>>>b|I.i(U+C+1)<<32-b:I.i(U+C);return new d(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Kr=d}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xT,wl,kT,Gc,cm,UT,LT,PT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function g(u,m,v){return g=_,g.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(A,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function J(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const A=vt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var vt=new Z(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,mt=!1,I=new yt,b=()=>{const u=Promise.resolve(void 0);Ct=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){W(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}mt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(re,M),re.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,A,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=wt(u,m,A,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!A,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,A){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(u,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,A,L);return null}return v=vo(v),u&&u[De]?u.J(m,v,p(A)?!!A.capture:!1,L):os(u,m,v,!1,A,L)}function os(u,m,v,A,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let bt=ls(u);if(bt||(u[Lt]=bt=new st(u)),v=bt.add(m,v,A,tt,B),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function u(v){return m.call(u.src,u.listener,v)}const m=yo;return u}function ea(u,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ea(u,m[B],v,A,L);else A=p(A)?!!A.capture:!!A,v=vo(v),u&&u[De]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,A,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,A,L)),(v=u>-1?m[u]:null)&&na(v))}function na(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])_t(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ls(m))?(_t(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ht(u)}}}function ni(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function yo(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&na(u),u=v.call(A,m)}return u}function ls(u){return u=u[Lt],u instanceof st?u:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(m){return u.handleEvent(m)}),u[_o])}function ye(){x.call(this),this.i=new st(this),this.M=this,this.G=null}S(ye,x),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(u,m,v,A){ea(this,u,m,v,A)};function Me(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var L=m;m=new M(A,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=rr(B,A,!0,m)&&L;if(B=m.g=u,L=rr(B,A,!0,m)&&L,L=rr(B,A,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=rr(B,A,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ye.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function rr(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,de=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=bt.call(de,A)!==!1&&L}}return L&&!A.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function au(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(u){x.call(this),this.h=u,this.g={}}S(us,x);var Eo=[];function To(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&na(m)},u),u.g={}}us.prototype.N=function(){us.Z.N.call(this),To(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,Ph=d.JSON.parse,ou=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function lu(){}function uu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){M.call(this,"d")}S(je,M);function bn(){M.call(this,"c")}S(bn,M);var fe={},cu=null;function ia(){return cu=cu||new ye}fe.Ia="serverreachability";function hu(u){M.call(this,fe.Ia,u)}S(hu,M);function ii(u){const m=ia();Me(m,new hu(m))}fe.STAT_EVENT="statevent";function cs(u,m){M.call(this,fe.STAT_EVENT,u),this.stat=m}S(cs,M);function _e(u){const m=ia();Me(m,new cs(m,u))}fe.Ja="timingevent";function ri(u,m){M.call(this,fe.Ja,u),this.size=m}S(ri,M);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function zh(u,m,v,A,L,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let qt=0;qt<bt.length;qt++){var de=bt[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Cn=ae.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function fu(u,m,v,A,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(A?" "+A:"")})}function hs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return sr(B)}catch{return m}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function ds(){}S(ds,lu),ds.prototype.g=function(){return new XMLHttpRequest},So=new ds;function Oi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ve={},Ue={};function oi(u,m,v){u.M=1,u.A=ms(Te(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),li(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),u.C=0,v=u.j.L,u.h=new qn,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(g(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Eo[0]=L.toString()),L=Eo);for(let B=0;B<L.length;B++){const tt=se(v,L[B],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Gn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||de==7||(de==8||qt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break e}}B=null}if(u=B)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),Rn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=pu(this,v),ae==Ue){bt==4&&(this.m=4,_e(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(tt),tt.P=!0,_e(11))}}else ai(this.i,this.l,v,null),ci(this,v);bt==4&&dn(this),this.o&&!this.K&&(bt==4?bu(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),Rn(this)}}}catch{}};function Bh(u){if(!mu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),u.C=A+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(g(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hs(this.i,this.B),this.M!=2&&(ii(),_e(17)),dn(this),this.m=2,Rn(this)):sa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||bu(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,To(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),dr(v);else break t;Ts(v),_e(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(g(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&da(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Cn=qt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const vi=qt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=u.g;if(Qn){const As=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var B=A.h;B.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(A.G){const ma=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Kt(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=Iu(A,A.L?A.ba:null,A.W),tt.L){Io(A.h,tt);var bt=tt,de=A.O;de&&(bt.H=de),bt.D&&(ui(bt),li(bt)),A.g=tt}else Au(A);v.i.length>0&&yi(v)}else qt[0]!="stop"&&qt[0]!="close"||_i(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?_i(v,7):Uo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ii(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,B=null;A>=0?(L=u[v].substring(0,A),B=u[v].substring(A+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,No(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),ar(this,m[4]),this.h=di(m[5]||"",!0),No(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ps(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ps(m,oa,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ps(v,v.charAt(0)=="/"?Do:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ps(v,_u)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ar(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?A&&tt==L.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&tt==L.length&&B.push("")):(B.push(bt),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?No(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function Le(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof lr?(u.i=m,ua(u.i,u.l)):(v||(m=ps(m,or)),u.i=new lr(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function ms(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ps(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,yu=/[#\?:]/g,Do=/[#\?]/g,or=/[#\?@]/g,_u=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=lr.prototype,r.add=function(u,m){sn(this),this.i=null,u=ur(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){sn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return sn(u),m=ur(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Mo(u,m){sn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=ur(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(ur(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Oi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Oi(v[B])),u.push(tt)}}return this.i=u.join("&")};function Eu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(vu(this,A),la(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const A=new Image;A.onload=T(wn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(wn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(wn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(wn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vo(u,m){const v=new jn,A=new AbortController,L=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function cr(){this.g=new ou}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,lu),mi.prototype.g=function(){return new gs(this.i,this.h)};function gs(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,ye),r=gs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):Fn(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},r.Na=function(u){this.g&&(this.response=u,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return zt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function ys(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=In(v),typeof u=="string"?v!=null&&Oi(v):Kt(u,m,v))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var pi=/^https?$/i,xo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_s(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_s(this,B)}};function _s(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Mi(u)}function ko(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},r.Xa=function(){vs(this)};function vs(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let tt=String(u.D).match(gu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!pi.test(tt?tt.toLowerCase():"")}v=A}if(v)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ko(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Me(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=du(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){_e(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Iu(this,null,this.W),yi(this)};function Uo(u){if(ha(u),u.I==3){var m=u.V++,v=Te(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Es(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=ms(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}wu(u)}function dr(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ha(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ct||b(),mt||(Ct(),mt=!0),I.add(m,u),u.D=0}}function fa(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(g(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,L,m),v=Te(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Es(this,v),B&&(this.R?m="headers="+Oi(In(B))+"&"+m:this.u&&ys(v,this.u,B)),wo(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||Ro(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Kt(A,"SID",u.M),Kt(A,"RID",v),Kt(A,"AID",u.K),Es(u,A),u.u&&u.o&&ys(A,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),oi(v,A,m)}function Es(u,m){u.H&&zt(u.H,function(v,A){Kt(m,A,v)}),u.l&&zt({},function(v,A){Kt(m,A,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?g(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const de=["count="+v];bt==-1?v>0?(bt=L[0].g,de.push("ofs="+bt)):bt=0:de.push("ofs="+bt);let qt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const Cn=L[ae].map;if(B-=bt,B<0)bt=Math.max(0,L[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[vi,Kn]of tt){let Qn=Kn;p(Kn)&&(Qn=sr(Kn)),de.push(B+vi+"="+encodeURIComponent(Qn))}}catch(vi){throw de.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Cn)}}if(qt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ct||b(),mt||(Ct(),mt=!0),I.add(m,u),u.A=0}}function Ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(g(u.Da,u),Ru(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(g(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),dr(this),Su(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Es(u,m),u.u&&u.o&&ys(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ms(Te(m)),v.u=null,v.R=!0,ra(v,u)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),Ts(this),_e(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){da(u),Po(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,Io(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=ia(),Me(A,new ri(A,v)),yi(u)}else Au(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&fa(u,m)||A==2&&Ts(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=g(u.bb,u),A=u.Ua;const L=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(A,"https"),ms(A),L?Hn(A.toString(),v):Vo(A.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),wu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ar(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);A&&Le(B,A),m&&(B.g=m),L&&ar(B,L),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&Kt(A,v,m),Kt(A,"VER",u.ka),Es(u,A),A}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}S(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Uo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=sr(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,en.Z.N.call(this)};function Du(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Du,je);function Ou(){bn.call(this),this.status=1}S(Ou,bn);function xi(u){this.g=u}S(xi,Nu),xi.prototype.ra=function(){Me(this.g,"a")},xi.prototype.qa=function(u){Me(this.g,new Du(u))},xi.prototype.pa=function(u){Me(this.g,new Ou)},xi.prototype.oa=function(){Me(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,PT=function(){return new mr},LT=function(){return ia()},UT=fe,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Gc=fs,Ao.COMPLETE="complete",kT=Ao,uu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,wl=uu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,xT=Xt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ho="12.9.0";function a2(r){ho=r}const Ks=new Nm("@firebase/firestore");function Fa(){return Ks.logLevel}function rt(r,...t){if(Ks.logLevel<=Vt.DEBUG){const i=t.map(jm);Ks.debug(`Firestore (${ho}): ${r}`,...i)}}function er(r,...t){if(Ks.logLevel<=Vt.ERROR){const i=t.map(jm);Ks.error(`Firestore (${ho}): ${r}`,...i)}}function Qs(r,...t){if(Ks.logLevel<=Vt.WARN){const i=t.map(jm);Ks.warn(`Firestore (${ho}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,zT(r,s,i)}function zT(r,t,i){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw er(s),new Error(s)}function Ft(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||zT(t,l,s)}function At(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class jT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class u2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new jT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class c2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class h2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new c2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=d2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function hm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Xd(l)===Xd(c)?xt(l,c):Xd(l)?1:-1}return xt(r.length,t.length)}const m2=55296,p2=57343;function Xd(r){const t=r.charCodeAt(0);return t>=m2&&t<=p2}function no(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const Mv="__name__";class bi{constructor(t,i,s){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&gt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=bi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const s=bi.isNumericId(t),l=bi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?bi.extractNumericId(t).compare(bi.extractNumericId(i)):hm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class te extends bi{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends bi{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return g2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new Qe([Mv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function BT(r,t,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function y2(r,t,i,s){if(t===!0&&s===!0)throw new it(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Vv(r){if(!ct.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xv(r){if(ct.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Qr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Th(r);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function tu(r,t){if(!qT(r))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const kv=-62135596800,Uv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Uv);return new ie(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<kv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ie(0,0))}static max(){return new Et(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function _2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new $r(l,ct.empty(),t)}function v2(r){return new $r(r.readTime,r.key,zl)}class $r{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new $r(Et.min(),ct.empty(),zl)}static max(){return new $r(Et.max(),ct.empty(),zl)}}function E2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}const T2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==T2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,s)=>{i(t)}))}static reject(t){return new $(((i,s)=>{s(t)}))}static waitFor(t){return new $(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const s of t)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new $(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const g=_;i(t[g]).next((T=>{d[g]=T,++p,p===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new $(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function S2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class Ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ah.ce=-1;const qm=-1;function Sh(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function b2(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HT="";function R2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Lv(t)),t=w2(r.get(i),t);return Lv(t)}function w2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case HT:i+="";break;default:i+=c}}return i}function Lv(r){return r+HT+""}function Pv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ss(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function FT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ke(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new xe(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new GT("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=I2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const KT="server_timestamp",QT="__type__",YT="__previous_value__",XT="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[QT]?.stringValue===KT}function bh(r){const t=r.mapValue.fields[YT];return Hm(t)?bh(t):t}function jl(r){const t=Jr(r.mapValue.fields[XT].timestampValue);return new ie(t.seconds,t.nanos)}class C2{constructor(t,i,s,l,c,d,p,_,g,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=S}}const ah="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||ah}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}function N2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(r.options.projectId,t)}const $T="__type__",D2="__max__",Pc={mapValue:{}},JT="__vector__",oh="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:M2(r)?9007199254740991:O2(r)?10:11:gt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=Wr(r);if(i!==Wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jl(r).isEqual(jl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Jr(l.timestampValue),p=Jr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Pv(d)!==Pv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Di(d[_],p[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function ql(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function io(r,t){if(r===t)return 0;const i=Wr(r),s=Wr(t);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return jv(r.timestampValue,t.timestampValue);case 4:return jv(jl(r),jl(t));case 5:return hm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zr(c),_=Zr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let g=0;g<p.length&&g<_.length;g++){const T=xt(p[g],_[g]);if(T!==0)return T}return xt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=xt(ge(c.latitude),ge(d.latitude));return p!==0?p:xt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},g=p[oh]?.arrayValue,T=_[oh]?.arrayValue,S=xt(g?.values?.length||0,T?.values?.length||0);return S!==0?S:Bv(g,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),g=d.fields||{},T=Object.keys(g);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const N=hm(_[S],T[S]);if(N!==0)return N;const H=io(p[_[S]],g[T[S]]);if(H!==0)return H}return xt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function jv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=Jr(r),s=Jr(t),l=xt(i.seconds,s.seconds);return l!==0?l:xt(i.nanos,s.nanos)}function Bv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=io(i[l],s[l]);if(c)return c}return xt(i.length,s.length)}function ro(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Jr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=fm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Kc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Kc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ss(s.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function qv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function dm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function O2(r){return(r?.mapValue?.fields||{})[$T]?.stringValue===JT}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ss(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Ml(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ml(r.arrayValue.values[i]);return t}return{...r}}function M2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Ml(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){ss(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new fn(Ml(this.value))}}function ZT(r){const t=[];return ss(r.fields,((i,s)=>{const l=new Qe([i]);if(Qc(s)){const c=ZT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Ze{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,Et.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(t,i){this.position=t,this.inclusive=i}}function Gv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=io(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}class Hl{constructor(t,i="asc"){this.field=t,this.dir=i}}function V2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class WT{}class Ie extends WT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new k2(t,i,s):i==="array-contains"?new P2(t,s):i==="in"?new z2(t,s):i==="not-in"?new j2(t,s):i==="array-contains-any"?new B2(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new U2(t,s):new L2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&Wr(this.value)===Wr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends WT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return t0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t0(r){return r.op==="and"}function e0(r){return x2(r)&&t0(r)}function x2(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function mm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(e0(r))return r.filters.map((t=>mm(t))).join(",");{const t=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${t})`}}function n0(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&n0(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function i0(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(i0).join(" ,")+"}"})(r):"Filter"}class k2 extends Ie{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class U2 extends Ie{constructor(t,i){super(t,"in",i),this.keys=r0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class L2 extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=r0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function r0(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class P2 extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&ql(i.arrayValue,this.value)}}class z2 extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class j2 extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class B2 extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}class q2{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Qv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new q2(r,t,i,s,l,c,d)}function Gm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>mm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ro(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ro(s))).join(",")),t.Te=i}return t.Te}function Km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!V2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!n0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Kv(r.startAt,t.startAt)&&Kv(r.endAt,t.endAt)}function pm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class po{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function H2(r,t,i,s,l,c,d,p){return new po(r,t,i,s,l,c,d,p)}function Qm(r){return new po(r)}function Yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function F2(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function s0(r){return r.collectionGroup!==null}function Vl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Hl(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Hl(Qe.keyField(),s))}return t.Ie}function Ii(r){const t=At(r);return t.Ee||(t.Ee=G2(t,Vl(r))),t.Ee}function G2(r,t){if(r.limitType==="F")return Qv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Hl(l.field,c)}));const i=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return Qv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function gm(r,t){const i=r.filters.concat([t]);return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function K2(r,t){const i=r.explicitOrderBy.concat([t]);return new po(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function ym(r,t,i){return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Km(Ii(r),Ii(t))&&r.limitType===t.limitType}function a0(r){return`${Gm(Ii(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>i0(l))).join(", ")}]`),Sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function wh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Vl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const g=Gv(d,p,_);return d.inclusive?g<=0:g<0})(s.startAt,Vl(s),l)||s.endAt&&!(function(d,p,_){const g=Gv(d,p,_);return d.inclusive?g>=0:g>0})(s.endAt,Vl(s),l))})(r,t)}function Q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function o0(r){return(t,i)=>{let s=!1;for(const l of Vl(r)){const c=Y2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Y2(r,t,i){const s=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),g=p.data.field(c);return _!==null&&g!==null?io(_,g):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}const X2=new le(ct.comparator);function nr(){return X2}const l0=new le(ct.comparator);function Il(...r){let t=l0;for(const i of r)t=t.insert(i.key,i);return t}function u0(r){let t=l0;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function zs(){return xl()}function c0(){return xl()}function xl(){return new Js((r=>r.toString()),((r,t)=>r.isEqual(t)))}const $2=new le(ct.comparator),J2=new xe(ct.comparator);function kt(...r){let t=J2;for(const i of r)t=t.add(i);return t}const Z2=new xe(xt);function W2(){return Z2}function Ym(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function h0(r){return{integerValue:""+r}}function tI(r,t){return b2(t)?h0(t):Ym(r,t)}class Ih{constructor(){this._=void 0}}function eI(r,t,i){return r instanceof Fl?(function(l,c){const d={fields:{[QT]:{stringValue:KT},[XT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=bh(c)),c&&(d.fields[YT]=c),{mapValue:d}})(i,t):r instanceof Gl?d0(r,t):r instanceof Kl?m0(r,t):(function(l,c){const d=f0(l,c),p=Xv(d)+Xv(l.Ae);return dm(d)&&dm(l.Ae)?h0(p):Ym(l.serializer,p)})(r,t)}function nI(r,t,i){return r instanceof Gl?d0(r,t):r instanceof Kl?m0(r,t):i}function f0(r,t){return r instanceof uh?(function(s){return dm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Fl extends Ih{}class Gl extends Ih{constructor(t){super(),this.elements=t}}function d0(r,t){const i=p0(t);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Kl extends Ih{constructor(t){super(),this.elements=t}}function m0(r,t){let i=p0(t);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class uh extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Xv(r){return ge(r.integerValue||r.doubleValue)}function p0(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class iI{constructor(t,i){this.field=t,this.transform=i}}function rI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Gl&&l instanceof Gl||s instanceof Kl&&l instanceof Kl?no(s.elements,l.elements,Di):s instanceof uh&&l instanceof uh?Di(s.Ae,l.Ae):s instanceof Fl&&l instanceof Fl})(r.transform,t.transform)}class sI{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ch{}function g0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Xm(r.key,Zn.none()):new eu(r.key,r.data,Zn.none());{const i=r.data,s=fn.empty();let l=new xe(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new as(r.key,s,new Sn(l.toArray()),Zn.none())}}function aI(r,t,i){r instanceof eu?(function(l,c,d){const p=l.value.clone(),_=Jv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof as?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Jv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(y0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(r,t,i,s){return r instanceof eu?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const g=c.value.clone(),T=Zv(c.fieldTransforms,_,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(r,t,i,s):r instanceof as?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const g=Zv(c.fieldTransforms,_,d),T=d.data;return T.setAll(y0(c)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function oI(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=f0(s.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(s.field,c))}return i||null}function $v(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((c,d)=>rI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class eu extends Ch{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class as extends Ch{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function y0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Jv(r,t,i){const s=new Map;Ft(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,nI(d,p,i[l]))}return s}function Zv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,eI(c,d,t))}return s}class Xm extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&aI(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=kl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=kl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=c0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=g0(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,s)=>$v(i,s)))&&no(this.baseMutations,t.baseMutations,((i,s)=>$v(i,s)))}}class $m{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return $2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new $m(t,i,s,l)}}class cI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hI{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function fI(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function _0(r){if(r===void 0)return er("GRPC error has no .code"),X.UNKNOWN;switch(r){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function dI(){return new TextEncoder}const mI=new Kr([4294967295,4294967295],0);function Wv(r){const t=dI().encode(r),i=new VT;return i.update(t),new Uint8Array(i.digest())}function tE(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([i,s],0),new Kr([l,c],0)]}class Jm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Kr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Kr.fromNumber(s)));return l.compare(mI)===1&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Wv(t),[s,l]=tE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Wv(t),[s,l]=tE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Nh(Et.min(),l,new le(xt),nr(),kt())}}class nu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new nu(s,i,kt(),kt(),kt())}}class Xc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class v0{constructor(t,i){this.targetId=t,this.Ce=i}}class E0{constructor(t,i,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class eE{constructor(){this.ve=0,this.Fe=nE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),s=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}})),new nu(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=nE()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pI{constructor(t){this.Ge=t,this.ze=new Map,this.je=nr(),this.He=zc(),this.Je=zc(),this.Ze=new le(xt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(s===0){const d=new ct(c.path);this.et(i,d,Ze.newNoDocument(d,Et.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zr(s).toUint8Array()}catch(_){if(_ instanceof GT)return Qs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Jm(d,l,c)}catch(_){return Qs(_ instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const _=new ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=kt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Nh(t,i,this.Ze,this.je,s);return this.je=nr(),this.He=zc(),this.Je=zc(),this.Ze=new le(xt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new eE,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new xe(xt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function zc(){return new le(ct.comparator)}function nE(){return new le(ct.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},yI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_I={and:"AND",or:"OR"};class vI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function EI(r,t){return ch(r,t.toTimestamp())}function Ci(r){return Ft(!!r,49232),Et.fromTimestamp((function(i){const s=Jr(i);return new ie(s.seconds,s.nanos)})(r))}function Zm(r,t){return vm(r,t).canonicalString()}function vm(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function A0(r){const t=te.fromString(r);return Ft(I0(t),10190,{key:t.toString()}),t}function Em(r,t){return Zm(r.databaseId,t.path)}function $d(r,t){const i=A0(t);if(i.get(1)!==r.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(b0(i))}function S0(r,t){return Zm(r.databaseId,t)}function TI(r){const t=A0(r);return t.length===4?te.emptyPath():b0(t)}function Tm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function b0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iE(r,t,i){return{name:Em(r,t),fields:i.value.mapValue.fields}}function AI(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:gt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(g,T){return g.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(g){const T=g.code===void 0?X.UNKNOWN:_0(g.code);return new it(T,g.message||"")})(d);i=new E0(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=$d(r,s.document.name),c=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):Et.min(),p=new fn({mapValue:{fields:s.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),g=s.targetIds||[],T=s.removedTargetIds||[];i=new Xc(g,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=$d(r,s.document),c=s.readTime?Ci(s.readTime):Et.min(),d=Ze.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=$d(r,s.document),c=s.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new hI(l,c),p=s.targetId;i=new v0(p,d)}}return i}function SI(r,t){let i;if(t instanceof eu)i={update:iE(r,t.key,t.value)};else if(t instanceof Xm)i={delete:Em(r,t.key)};else if(t instanceof as)i={update:iE(r,t.key,t.data),updateMask:MI(t.fieldMask)};else{if(!(t instanceof lI))return gt(16599,{dt:t.type});i={verify:Em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:EI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function bI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(Et.min())&&(d=Ci(c)),new sI(d,l.transformResults||[])})(i,t)))):[]}function RI(r,t){return{documents:[S0(r,t.path)]}}function wI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=S0(r,l);const c=(function(g){if(g.length!==0)return w0(ei.create(g,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((T=>(function(N){return{field:Ka(N.field),direction:NI(N.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:l}}function II(r){let t=TI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const N=R0(S);return N instanceof ei&&e0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(J){return new Hl(Qa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Sh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,H=S.values||[];return new lh(H,N)})(i.startAt));let g=null;return i.endAt&&(g=(function(S){const N=!S.before,H=S.values||[];return new lh(H,N)})(i.endAt)),H2(t,l,d,c,p,"F",_,g)}function CI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function R0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Qa(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>R0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function NI(r){return gI[r]}function DI(r){return yI[r]}function OI(r){return _I[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Qe.fromServerFormat(r.fieldPath)}function w0(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Fv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(Hv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Fv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(Hv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:DI(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>w0(l)));return s.length===1?s[0]:{compositeFilter:{op:OI(i.op),filters:s}}})(r):gt(54877,{filter:r})}function MI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function I0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function C0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class qr{constructor(t,i,s,l,c=Et.min(),d=Et.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VI{constructor(t){this.yt=t}}function xI(r){const t=II({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(t,t.limit,"L"):t}class kI{constructor(){this.Sn=new UI}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve($r.min())}updateCollectionGroup(t,i,s){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class UI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new xe(te.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new xe(te.comparator)).toArray()}}const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(N0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}const sE="LruGarbageCollector",LI=1048576;function aE([r,t],[i,s]){const l=xt(r,i);return l===0?xt(t,s):l}class PI{constructor(t){this.Pr=t,this.buffer=new xe(aE),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();aE(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(sE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?rt(sE,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class jI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Ah.ce);const s=new PI(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(rE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,_,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(g=Date.now(),Fa()<=Vt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(g-_)+`ms
Total Duration: ${g-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function BI(r,t){return new jI(r,t)}class qI{constructor(){this.changes=new Js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class HI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class FI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&kl(s.mutation,l,Sn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=kt()){const l=zs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Il();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=zs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,kt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=nr();const d=xl(),p=(function(){return xl()})();return i.forEach(((_,g)=>{const T=s.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof as)?c=c.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),kl(T.mutation,g,T.mutation.getFieldMask(),ie.now())):d.set(g.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((g,T)=>d.set(g,T))),i.forEach(((g,T)=>p.set(g,new HI(T,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=xl();let l=new le(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const g=i.get(_);if(g===null)return;let T=s.get(_)||Sn.empty();T=p.applyToLocalView(g,T),s.set(_,T);const S=(l.get(p.batchId)||kt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,T=_.value,S=c0();T.forEach((N=>{if(!c.has(N)){const H=g0(i.get(N),s.get(N));H!==null&&S.set(N,H),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return F2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):s0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):$.resolve(zs());let p=zl,_=c;return d.next((g=>$.forEach(g,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{_=_.insert(T,N)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,_,g,kt()))).next((T=>({batchId:p,changes:u0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((s=>{let l=Il();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const g=(function(S,N){return new po(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let p=Il();return d.forEach(((_,g)=>{const T=c.get(_);T!==void 0&&kl(T.mutation,g,Sn.empty(),ie.now()),wh(i,g)&&(p=p.insert(_,g))})),p}))}}class GI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:xI(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),$.resolve()}}class KI{constructor(){this.overlays=new le(ct.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const s=zs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(t,i,s){const l=zs(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((g,T)=>g-T));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let T=c.get(g.largestBatchId);T===null&&(T=zs(),c=c.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=zs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new cI(i,s));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class QI{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Wm{constructor(){this.kr=new xe(ze.Kr),this.qr=new xe(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new ze(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new ze(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ct(new te([])),s=new ze(i,t),l=new ze(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new te([])),s=new ze(i,t),l=new ze(i,t+1);let c=kt();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||xt(t.Hr,i.Hr)}static Ur(t,i){return xt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class YI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(ze.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xe(xt);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new ze(new ct(c),0);let p=new xe(xt);return this.Jr.forEachWhile((_=>{const g=_.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new ze(i,0),l=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class XI{constructor(t){this.ti=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=nr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=nr();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:T}}=_.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||E2(v2(T),s)<=0||(l.has(T.key)||wh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,s,l){gt(9500)}ni(t,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new $I(this)}getSize(t){return $.resolve(this.size)}}class $I extends qI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class JI{constructor(t){this.persistence=t,this.ri=new Js((i=>Gm(i)),Km),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Wm,this.targetCount=0,this.oi=so._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new so(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class D0{constructor(t,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new QI,this.referenceDelegate=t(this),this.li=new JI(this),this.indexManager=new kI,this.remoteDocumentCache=(function(l){return new XI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new VI(i),this.Pi=new GI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new KI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new YI(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new ZI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class ZI extends A2{constructor(t){super(),this.currentSequenceNumber=t}}class tp{constructor(t){this.persistence=t,this.Ri=new Wm,this.Ai=null}static Vi(t){return new tp(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const l=ct.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.fi=new Js((s=>R2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=BI(this,i)}static Vi(t,i){return new hh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Kc(t.data.value)),i}wr(t,i,s){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ep{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ep(t,i.fromCache,s,l)}}class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RS()?8:S2(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new WI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Fa()<=Vt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Fa()<=Vt.DEBUG&&rt("QueryEngine","Query:",Ga(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Fa()<=Vt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):$.resolve())}gs(t,i){if(Yv(i))return $.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const g=this.bs(i,p);return this.Ss(i,g,d,_.readTime)?this.gs(t,ym(i,null,"F")):this.Ds(t,g,i,_)}))))})))))}ps(t,i,s,l){return Yv(i)||l.isEqual(Et.min())?$.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?$.resolve(null):(Fa()<=Vt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,_2(l,zl)).next((p=>p)))}))}bs(t,i){let s=new xe(o0(t));return i.forEach(((l,c)=>{wh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Fa()<=Vt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,$r.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",eC=3e8;class nC{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(xt),this.Fs=new Js((c=>Gm(c)),Km),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function iC(r,t,i,s){return new nC(r,t,i,s)}async function O0(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=kt();for(const g of l){d.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}for(const g of c){p.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(s,_).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function rC(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,T){const S=g.batch,N=S.keys();let H=$.resolve();return N.forEach((J=>{H=H.next((()=>T.getEntry(_,J))).next((Z=>{const W=g.docVersions.get(J);Ft(W!==null,48541),Z.version.compareTo(W)<0&&(S.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),T.addEntry(Z)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=kt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function M0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function sC(r,t){const i=At(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let H=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(S,H),(function(Z,W,ft){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=eC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,H,T)&&p.push(i.li.updateTargetData(c,H))}));let _=nr(),g=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(aC(c,d,t.documentUpdates).next((T=>{_=T.Bs,g=T.Ls}))),!s.isEqual(Et.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,g))).next((()=>_))})).then((c=>(i.vs=l,c)))}function aC(r,t,i){let s=kt(),l=kt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=nr();return i.forEach(((p,_)=>{const g=c.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(np,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function oC(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function lC(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function Am(r,t,i){const s=At(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;rt(np,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function oE(r,t,i){const s=At(r);let l=Et.min(),c=kt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,g,T){const S=At(_),N=S.Fs.get(T);return N!==void 0?$.resolve(S.vs.get(N)):S.li.getTargetData(g,T)})(s,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:kt()))).next((p=>(uC(s,Q2(t),p),{documents:p,ks:c})))))}function uC(r,t,i){let s=r.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class lE{constructor(){this.activeTargetIds=W2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cC{constructor(){this.vo=new lE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new lE,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hC{Mo(t){}shutdown(){}}const uE="ConnectivityMonitor";class cE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(uE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Sm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Jd="RestConnection",fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=Sm(),p=this.Qo(t,i.toUriEncodedString());rt(Jd,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:g}=new URL(p),T=lo(g);return this.zo(t,p,_,s,T).then((S=>(rt(Jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Qs(Jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=fC[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class mC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Sl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends dC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=LT();Sl(t,UT.STAT_EVENT,(i=>{i.stat===cm.PROXY?rt($e,"STAT_EVENT: detected buffering proxy"):i.stat===cm.NOPROXY&&rt($e,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(t,i,s,l,c){const d=Sm();return new Promise(((p,_)=>{const g=new xT;g.setWithCredentials(!0),g.listenOnce(kT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Gc.NO_ERROR:const S=g.getResponseJson();rt($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Gc.TIMEOUT:rt($e,`RPC '${t}' ${d} timed out`),_(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const N=g.getStatus();if(rt($e,`RPC '${t}' ${d} failed with status:`,N,"response text:",g.getResponseText()),N>0){let H=g.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const Z=(function(ft){const yt=ft.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(yt)>=0?yt:X.UNKNOWN})(J.status);_(new it(Z,J.message))}else _(new it(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new it(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{rt($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt($e,`RPC '${t}' ${d} sending request:`,l),g.send(i,"POST",T,s,15)}))}T_(t,i,s){const l=Sm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const g=c.join("");rt($e,`Creating RPC '${t}' stream ${l}: ${g}`,p);const T=d.createWebChannel(g,p);this.I_(T);let S=!1,N=!1;const H=new mC({Ho:J=>{N?rt($e,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(rt($e,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),rt($e,`RPC '${t}' stream ${l} sending:`,J),T.send(J))},Jo:()=>T.close()});return Sl(T,wl.EventType.OPEN,(()=>{N||(rt($e,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),Sl(T,wl.EventType.CLOSE,(()=>{N||(N=!0,rt($e,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(T))})),Sl(T,wl.EventType.ERROR,(J=>{N||(N=!0,Qs($e,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),Sl(T,wl.EventType.MESSAGE,(J=>{if(!N){const Z=J.data[0];Ft(!!Z,16349);const W=Z,ft=W?.error||W[0]?.error;if(ft){rt($e,`RPC '${t}' stream ${l} received error:`,ft);const yt=ft.status;let vt=(function(mt){const I=we[mt];if(I!==void 0)return _0(I)})(yt),lt=ft.message;yt==="NOT_FOUND"&&lt.includes("database")&&lt.includes("does not exist")&&lt.includes(this.databaseId.database)&&Qs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),vt===void 0&&(vt=X.INTERNAL,lt="Unknown error status: "+yt+" with message "+ft.message),N=!0,H.o_(new it(vt,lt)),T.close()}else rt($e,`RPC '${t}' stream ${l} received:`,Z),H.__(Z)}})),Za.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return PT()}}function pC(r){return new Za(r)}function Zd(){return typeof document<"u"?document:null}function Dh(r){return new vI(r,!0)}Za.c_=!1;class V0{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hE="PersistentStream";class x0{constructor(t,i,s,l,c,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(er(i.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gC extends x0{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ci(d.readTime):Et.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=pm(_)?{documents:RI(c,_)}:{query:wI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=T0(c,d.resumeToken);const g=_m(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const g=_m(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const s=CI(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=Tm(this.serializer),i.removeTarget=t,this.K_(i)}}class yC extends x0{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=bI(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Tm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>SI(this.serializer,s)))};this.K_(i)}}class _C{}class vC extends _C{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,vm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(X.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,vm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function EC(r,t,i,s){return new vC(r,t,i,s)}class TC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class AC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Zs(this)&&(rt(Ys,"Restarting streams for network reachability change."),await(async function(_){const g=At(_);g.Ea.add(4),await iu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Oh(g)})(this))}))})),this.Va=new TC(s,l)}}async function Oh(r){if(Zs(r))for(const t of r.Ra)await t(!0)}async function iu(r){for(const t of r.Ra)await t(!1)}function k0(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ap(i)?sp(i):go(i).O_()&&rp(i,t))}function ip(r,t){const i=At(r),s=go(i);i.Ia.delete(t),s.O_()&&U0(i,t),i.Ia.size===0&&(s.O_()?s.L_():Zs(i)&&i.Va.set("Unknown"))}function rp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Z_(t)}function U0(r,t){r.da.$e(t),go(r).X_(t)}function sp(r){r.da=new pI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Va.ua()}function ap(r){return Zs(r)&&!go(r).x_()&&r.Ia.size>0}function Zs(r){return At(r).Ea.size===0}function L0(r){r.da=void 0}async function SC(r){r.Va.set("Online")}async function bC(r){r.Ia.forEach(((t,i)=>{rp(r,t)}))}async function RC(r,t){L0(r),ap(r)?(r.Va.ha(t),sp(r)):r.Va.set("Unknown")}async function wC(r,t,i){if(r.Va.set("Online"),t instanceof E0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){rt(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(r,s)}else if(t instanceof Xc?r.da.Xe(t):t instanceof v0?r.da.st(t):r.da.tt(t),!i.isEqual(Et.min()))try{const s=await M0(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(g);T&&c.Ia.set(g,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,g)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),U0(c,_);const S=new qr(T.target,_,g,T.sequenceNumber);rp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){rt(Ys,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await iu(r),r.Va.set("Offline"),i||(i=()=>M0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Ys,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function P0(r,t){return t().catch((i=>fh(r,i,t)))}async function Mh(r){const t=At(r),i=ts(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;IC(t);)try{const l=await oC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,CC(t,l)}catch(l){await fh(t,l)}z0(t)&&j0(t)}function IC(r){return Zs(r)&&r.Ta.length<10}function CC(r,t){r.Ta.push(t);const i=ts(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function z0(r){return Zs(r)&&!ts(r).x_()&&r.Ta.length>0}function j0(r){ts(r).start()}async function NC(r){ts(r).ra()}async function DC(r){const t=ts(r);for(const i of r.Ta)t.ea(i.mutations)}async function OC(r,t,i){const s=r.Ta.shift(),l=$m.from(s,t,i);await P0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Mh(r)}async function MC(r,t){t&&ts(r).Y_&&await(async function(s,l){if((function(d){return fI(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();ts(s).B_(),await P0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(s)}})(r,t),z0(r)&&j0(r)}async function fE(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Ys,"RemoteStore received new credentials");const s=Zs(i);i.Ea.add(3),await iu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function VC(r,t){const i=At(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await iu(i),i.Va.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,s,l){const c=At(i);return c.sa(),new gC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:SC.bind(null,r),Yo:bC.bind(null,r),t_:RC.bind(null,r),J_:wC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),ap(r)?sp(r):r.Va.set("Unknown")):(await r.ma.stop(),L0(r))}))),r.ma}function ts(r){return r.fa||(r.fa=(function(i,s,l){const c=At(i);return c.sa(),new yC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NC.bind(null,r),t_:MC.bind(null,r),ta:DC.bind(null,r),na:OC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class op{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new op(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(r,t){if(er("AsyncQueue",`${t}: ${r}`),mo(r))return new it(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Il(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class dE{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class ao{constructor(t,i,s,l,c,d,p,_,g){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Wa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class xC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class kC{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=At(i),c=l.queries;l.queries=mE(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function mE(){return new Js((r=>a0(r)),Rh)}async function UC(r,t){const i=At(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new xC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=lp(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&up(i)}async function LC(r,t){const i=At(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function PC(r,t){const i=At(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&up(i)}function zC(r,t,i){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function up(r){r.Ca.forEach((t=>{t.next()}))}var bm,pE;(pE=bm||(bm={})).Ma="default",pE.Cache="cache";class jC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class B0{constructor(t){this.key=t}}class q0{constructor(t){this.key=t}}class BC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=o0(t),this.tu=new Wa(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new dE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const N=l.get(T),H=wh(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;N&&H?N.data.isEqual(H.data)?J!==Z&&(s.track({type:3,doc:H}),W=!0):this.su(N,H)||(s.track({type:2,doc:H}),W=!0,(_&&this.eu(H,_)>0||g&&this.eu(H,g)<0)&&(p=!0)):!N&&H?(s.track({type:0,doc:H}),W=!0):N&&!H&&(s.track({type:1,doc:N}),W=!0,(_||g)&&(p=!0)),W&&(H?(d=d.add(H),c=Z?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(H,J){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:W})}};return Z(H)-Z(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,g=_!==this.Xa;return this.Xa=_,d.length!==0||g?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,_===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new q0(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new B0(s))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cp="SyncEngine";class qC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class HC{constructor(t){this.key=t,this.hu=!1}}class FC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Js((p=>a0(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ct.comparator),this.Au=new Map,this.Vu=new Wm,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GC(r,t,i=!0){const s=Y0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await H0(s,t,i,!0),l}async function KC(r,t){const i=Y0(r);await H0(i,t,!0,!1)}async function H0(r,t,i,s){const l=await lC(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await QC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&k0(r.remoteStore,l),p}async function QC(r,t,i,s,l){r.pu=(S,N,H)=>(async function(Z,W,ft,yt){let vt=W.view.ru(ft);vt.Ss&&(vt=await oE(Z.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,vt))));const lt=yt&&yt.targetChanges.get(W.targetId),Ct=yt&&yt.targetMismatches.get(W.targetId)!=null,mt=W.view.applyChanges(vt,Z.isPrimaryClient,lt,Ct);return yE(Z,W.targetId,mt.au),mt.snapshot})(r,S,N,H);const c=await oE(r.localStore,t,!0),d=new BC(t,c.ks),p=d.ru(c.documents),_=nu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),g=d.applyChanges(p,r.isPrimaryClient,_);yE(r,i,g.au);const T=new qC(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),g.snapshot}async function YC(r,t,i){const s=At(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&ip(s.remoteStore,l.targetId),Rm(s,l.targetId)})).catch(fo)):(Rm(s,l.targetId),await Am(s.localStore,l.targetId,!0))}async function XC(r,t){const i=At(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ip(i.remoteStore,s.targetId))}async function $C(r,t,i){const s=iN(r);try{const l=await(function(d,p){const _=At(d),g=ie.now(),T=p.reduce(((H,J)=>H.add(J.key)),kt());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=nr(),Z=kt();return _.xs.getEntries(H,T).next((W=>{J=W,J.forEach(((ft,yt)=>{yt.isValidDocument()||(Z=Z.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,J))).next((W=>{S=W;const ft=[];for(const yt of p){const vt=oI(yt,S.get(yt.key).overlayedDocument);vt!=null&&ft.push(new as(yt.key,vt,ZT(vt.value.mapValue),Zn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,g,ft,p)})).next((W=>{N=W;const ft=W.applyToLocalDocumentSet(S,Z);return _.documentOverlayCache.saveOverlays(H,W.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:u0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let g=d.du[d.currentUser.toKey()];g||(g=new le(xt)),g=g.insert(p,_),d.du[d.currentUser.toKey()]=g})(s,l.batchId,i),await ru(s,l.changes),await Mh(s.remoteStore)}catch(l){const c=lp(l,"Failed to persist write");i.reject(c)}}async function F0(r,t){const i=At(r);try{const s=await sC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await ru(i,s,t)}catch(s){await fo(s)}}function gE(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let g=!1;_.queries.forEach(((T,S)=>{for(const N of S.ba)N.va(p)&&(g=!0)})),g&&up(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function JC(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Ze.newNoDocument(c,Et.min()));const p=kt().add(c),_=new Nh(Et.min(),new Map,new le(xt),d,p);await F0(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),hp(s)}else await Am(s.localStore,t,!1).then((()=>Rm(s,t,i))).catch(fo)}async function ZC(r,t){const i=At(r),s=t.batch.batchId;try{const l=await rC(i.localStore,t);K0(i,s,null),G0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ru(i,l)}catch(l){await fo(l)}}async function WC(r,t,i){const s=At(r);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return _.mutationQueue.lookupMutationBatch(g,p).next((S=>(Ft(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(g,S)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>_.localDocuments.getDocuments(g,T)))}))})(s.localStore,t);K0(s,t,i),G0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await ru(s,l)}catch(l){await fo(l)}}function G0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function K0(r,t,i){const s=At(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||Q0(r,s)}))}function Q0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(ip(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),hp(r))}function yE(r,t,i){for(const s of i)s instanceof B0?(r.Vu.addReference(s.key,t),tN(r,s)):s instanceof q0?(rt(cp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||Q0(r,s.key)):gt(19791,{wu:s})}function tN(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(rt(cp,"New document in limbo: "+i),r.Eu.add(s),hp(r))}function hp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(te.fromString(t)),s=r.fu.next();r.Au.set(s,new HC(i)),r.Ru=r.Ru.insert(i,s),k0(r.remoteStore,new qr(Ii(Qm(i.path)),s,"TargetPurposeLimboResolution",Ah.ce))}}async function ru(r,t,i){const s=At(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((g=>{if((g||i)&&s.isPrimaryClient){const T=g?!g.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(g){l.push(g);const T=ep.Es(_.targetId,g);c.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,g){const T=At(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(g,(N=>$.forEach(N.Ts,(H=>T.persistence.referenceDelegate.addReference(S,N.targetId,H))).next((()=>$.forEach(N.Is,(H=>T.persistence.referenceDelegate.removeReference(S,N.targetId,H)))))))))}catch(S){if(!mo(S))throw S;rt(np,"Failed to update sequence numbers: "+S)}for(const S of g){const N=S.targetId;if(!S.fromCache){const H=T.vs.get(N),J=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(J);T.vs=T.vs.insert(N,Z)}}})(s.localStore,c))}async function eN(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(cp,"User change. New user:",t.toKey());const s=await O0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ru(i,s.Ns)}}function nN(r,t){const i=At(r),s=i.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Y0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JC.bind(null,t),t.Pu.J_=PC.bind(null,t.eventManager),t.Pu.yu=zC.bind(null,t.eventManager),t}function iN(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WC.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return iC(this.persistence,new tC,t.initialUser,this.serializer)}Cu(t){return new D0(tp.Vi,this.serializer)}Du(t){return new cC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class rN extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new D0((s=>hh.Vi(s,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kC})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),s=pC(t.databaseInfo);return EC(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new AC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>gE(this.syncEngine,i,0)),(function(){return cE.v()?new cE:new hC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,g,T){const S=new FC(l,c,d,p,_,g);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);rt(Ys,"RemoteStore shutting down."),s.Ea.add(5),await iu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class sN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const es="FirestoreClient";class aN{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=lp(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(es,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await O0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function _E(r,t){r.asyncQueue.verifyOperationInProgress();const i=await oN(r);rt(es,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>fE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>fE(t.remoteStore,l))),r._onlineComponents=t}async function oN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(es,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qs("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new dh)}}else rt(es,"Using default OfflineComponentProvider"),await Wd(r,new rN(void 0));return r._offlineComponents}async function X0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(es,"Using user provided OnlineComponentProvider"),await _E(r,r._uninitializedComponentsProvider._online)):(rt(es,"Using default OnlineComponentProvider"),await _E(r,new wm))),r._onlineComponents}function lN(r){return X0(r).then((t=>t.syncEngine))}async function vE(r){const t=await X0(r),i=t.eventManager;return i.onListen=GC.bind(null,t.syncEngine),i.onUnlisten=YC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XC.bind(null,t.syncEngine),i}function uN(r,t,i,s){const l=new sN(s),c=new jC(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>UC(await vE(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>LC(await vE(r),c)))}}function cN(r,t){const i=new js;return r.asyncQueue.enqueueAndForget((async()=>$C(await lN(r),t,i))),i.promise}function $0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const hN="ComponentProvider",EE=new Map;function fN(r,t,i,s,l){return new C2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const J0="firestore.googleapis.com",TE=!0;class AE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J0,this.ssl=TE}else this.host=t.host,this.ssl=t.ssl??TE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=N0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LI)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}y2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new o2;switch(s.type){case"firstParty":return new h2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=EE.get(i);s&&(rt(hN,"Removing Datastore"),EE.delete(i),s.terminate())})(this),Promise.resolve()}}function dN(r,t,i,s={}){r=Qr(r,Vh);const l=lo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(GE(`https://${p}`),KE("Firestore",!0)),c.host!==J0&&c.host!==p&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!qs(_,d)&&(r._setSettings(_),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Je.MOCK_USER;else{g=gS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}r._authCredentials=new l2(new jT(g,T))}}class Ws{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class Ne{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(tu(i,Ne._jsonSchema))return new Ne(t,s||null,new ct(te.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class Yr extends Ws{constructor(t,i,s){super(t,i,Qm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ct(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function Ql(r,t,...i){if(r=ke(r),BT("collection","path",t),r instanceof Vh){const s=te.fromString(t,...i);return xv(s),new Yr(r,null,s)}{if(!(r instanceof Ne||r instanceof Yr))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return xv(s),new Yr(r.firestore,null,s)}}function mh(r,t,...i){if(r=ke(r),arguments.length===1&&(t=Bm.newId()),BT("doc","path",t),r instanceof Vh){const s=te.fromString(t,...i);return Vv(s),new Ne(r,null,new ct(s))}{if(!(r instanceof Ne||r instanceof Yr))throw new it(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return Vv(s),new Ne(r.firestore,r instanceof Yr?r.converter:null,new ct(s))}}const SE="AsyncQueue";class bE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V0(this,"async_queue_retry"),this._c=()=>{const s=Zd();s&&rt(SE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;rt(SE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",RE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=op.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function RE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class oo extends Vh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new bE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bE(t),this._firestoreClient=void 0,await t}}}function mN(r,t){const i=typeof r=="object"?r:$E(),s=typeof r=="string"?r:ah,l=Om(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=mS("firestore");c&&dN(l,...c)}return l}function Z0(r){if(r._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pN(r),r._firestoreClient}function pN(r){const t=r._freezeSettings(),i=fN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new aN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ce("string",Pn._jsonSchemaVersion),bytes:Ce("string")};class fp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xh{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ce("string",Ni._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Wn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Wn(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ce("string",Wn._jsonSchemaVersion),vectorValues:Ce("object")};const gN=/^__.*__$/;class yN{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,i,this.fieldTransforms):new eu(t,this.data,i,this.fieldTransforms)}}class W0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new as(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function t1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class dp{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ph(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(t1(this.dataSource)&&gN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class _N{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Dh(t)}createContext(t,i,s,l=!1){return new dp({dataSource:t,methodName:i,targetDoc:s,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(r){const t=r._freezeSettings(),i=Dh(r._databaseId);return new _N(r._databaseId,!!t.ignoreUndefinedProperties,i)}function vN(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);gp("Data must be an object, but it was:",d,s);const p=e1(s,d);let _,g;if(c.merge)_=new Sn(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const N=Xs(t,S,i);if(!d.contains(N))throw new it(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);r1(T,N)||T.push(N)}_=new Sn(T),g=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,g=d.fieldTransforms;return new yN(new fn(p),_,g)}class kh extends xh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}class pp extends xh{_toFieldTransform(t){return new iI(t.path,new Fl)}isEqual(t){return t instanceof pp}}function EN(r,t,i,s){const l=r.createContext(1,t,i);gp("Data must be an object, but it was:",l,s);const c=[],d=fn.empty();ss(s,((_,g)=>{const T=i1(t,_,i);g=ke(g);const S=l.childContextForFieldPath(T);if(g instanceof kh)c.push(T);else{const N=su(g,S);N!=null&&(c.push(T),d.set(T,N))}}));const p=new Sn(c);return new W0(d,p,l.fieldTransforms)}function TN(r,t,i,s,l,c){const d=r.createContext(1,t,i),p=[Xs(t,s,i)],_=[l];if(c.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(Xs(t,c[N])),_.push(c[N+1]);const g=[],T=fn.empty();for(let N=p.length-1;N>=0;--N)if(!r1(g,p[N])){const H=p[N];let J=_[N];J=ke(J);const Z=d.childContextForFieldPath(H);if(J instanceof kh)g.push(H);else{const W=su(J,Z);W!=null&&(g.push(H),T.set(H,W))}}const S=new Sn(g);return new W0(T,S,d.fieldTransforms)}function AN(r,t,i,s=!1){return su(i,r.createContext(s?4:3,t))}function su(r,t){if(n1(r=ke(r)))return gp("Unsupported field value:",t,r),e1(r,t);if(r instanceof xh)return(function(s,l){if(!t1(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=su(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ie.fromDate(s);return{timestampValue:ch(l.serializer,c)}}if(s instanceof ie){const c=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:T0(l.serializer,s._byteString)};if(s instanceof Ne){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Wn)return(function(d,p){const _=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[$T]:{stringValue:JT},[oh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Ym(p.serializer,T)}))}}}}}})(s,l);if(C0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Th(s)}`)})(r,t)}function e1(r,t){const i={};return FT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(r,((s,l)=>{const c=su(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function n1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ni||r instanceof Pn||r instanceof Ne||r instanceof xh||r instanceof Wn||C0(r))}function gp(r,t,i){if(!n1(i)||!qT(i)){const s=Th(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Xs(r,t,i){if((t=ke(t))instanceof fp)return t._internalPath;if(typeof t=="string")return i1(r,t);throw ph("Field path arguments must be of type string or ",r,!1,void 0,i)}const SN=new RegExp("[~\\*/\\[\\]]");function i1(r,t,i){if(t.search(SN)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new fp(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ph(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new it(X.INVALID_ARGUMENT,p+r+_)}function r1(r,t){return r.some((i=>i.isEqual(t)))}class bN{convertValue(t,i="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ss(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[oh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Wn(i)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const i=Jr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);Ft(I0(s),9688,{name:t});const l=new Bl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class s1 extends bN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function a1(){return new pp("serverTimestamp")}const wE="@firebase/firestore",IE="4.11.0";function CE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class o1{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Xs("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RN extends o1{data(){return super.data()}}function wN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yp{}class l1 extends yp{}function _p(r,t,...i){let s=[];t instanceof yp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof vp)).length,p=c.filter((_=>_ instanceof Uh)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Uh extends l1{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Uh(t,i,s)}_apply(t){const i=this._parse(t);return c1(t._query,i),new Ws(t.firestore,t.converter,gm(t._query,i))}_parse(t){const i=mp(t.firestore);return(function(c,d,p,_,g,T,S){let N;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){DE(S,T);const J=[];for(const Z of S)J.push(NE(_,c,Z));N={arrayValue:{values:J}}}else N=NE(_,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||DE(S,T),N=AN(p,d,S,T==="in"||T==="not-in");return Ie.create(g,T,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function IN(r,t,i){const s=t,l=Xs("where",r);return Uh._create(l,s,i)}class vp extends yp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new vp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)c1(d,_),d=gm(d,_)})(t._query,i),new Ws(t.firestore,t.converter,gm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends l1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Ep(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(c,d)})(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,K2(t._query,i))}}function u1(r,t="asc"){const i=t,s=Xs("orderBy",r);return Ep._create(s,i)}function NE(r,t,i){if(typeof(i=ke(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s0(t)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(te.fromString(i));if(!ct.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qv(r,new ct(s))}if(i instanceof Ne)return qv(r,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(i)}.`)}function DE(r,t){if(!Array.isArray(r)||r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function c1(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function CN(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Nl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends o1{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Xs("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ce("string",Bs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class $c extends Bs{data(t={}){return super.data(t)}}class to{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new $c(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:NN(p.type),doc:_,oldIndex:g,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Ce("string",to._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function OE(r,t,i,...s){r=Qr(r,Ne);const l=Qr(r.firestore,oo),c=mp(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof fp?TN(c,"updateDoc",r._key,t,i,s):EN(c,"updateDoc",r._key,t),Ap(l,[d.toMutation(r._key,Zn.exists(!0))])}function DN(r){return Ap(Qr(r.firestore,oo),[new Xm(r._key,Zn.none())])}function h1(r,t){const i=Qr(r.firestore,oo),s=mh(r),l=CN(r.converter,t),c=mp(r.firestore);return Ap(i,[vN(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then((()=>s))}function Tp(r,...t){r=ke(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||CE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(CE(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof Ne)d=Qr(r.firestore,oo),p=Qm(r._key.path),c={next:g=>{t[s]&&t[s](ON(d,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Qr(r,Ws);d=Qr(g.firestore,oo),p=g._query;const T=new s1(d);c={next:S=>{t[s]&&t[s](new to(d,T,g,S))},error:t[s+1],complete:t[s+2]},wN(r._query)}const _=Z0(d);return uN(_,p,l,c)}function Ap(r,t){const i=Z0(r);return cN(i,t)}function ON(r,t,i){const s=i.docs.get(t._key),l=new s1(r);return new Bs(r,l,t._key,s,new Nl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){a2(uo),eo(new Hs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new oo(new u2(s.getProvider("auth-internal")),new f2(d,s.getProvider("app-check-internal")),N2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gr(wE,IE,t),Gr(wE,IE,"esm2020")})();const MN={apiKey:"AIzaSyBeG55ZR_55arbBDeuLMD2tk0PV-xuEBuA",authDomain:"rutasoptimizadas-cc6b9.firebaseapp.com",projectId:"rutasoptimizadas-cc6b9",storageBucket:"rutasoptimizadas-cc6b9.firebasestorage.app",messagingSenderId:"889876230628",appId:"1:889876230628:web:ec9f5505f2ce47f18cd7f1",measurementId:"G-1BVBB3NV4K"},f1=XE(MN),Xr=mN(f1),gh=n2(f1);const d1=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim();const VN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const xN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase());const ME=r=>{const t=xN(r);return t.charAt(0).toUpperCase()+t.slice(1)};var kN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const LN=St.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},_)=>St.createElement("svg",{ref:_,...kN,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:d1("lucide",l),...!c&&!UN(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,T])=>St.createElement(g,T)),...Array.isArray(c)?c:[c]]));const ue=(r,t)=>{const i=St.forwardRef(({className:s,...l},c)=>St.createElement(LN,{ref:c,iconNode:t,className:d1(`lucide-${VN(ME(r))}`,`lucide-${r}`,s),...l}));return i.displayName=ME(r),i};const PN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m1=ue("circle-alert",PN);const zN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sp=ue("circle-check-big",zN);const jN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BN=ue("circle",jN);const qN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],VE=ue("clock",qN);const HN=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],FN=ue("flame",HN);const GN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],KN=ue("info",GN);const QN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ns=ue("loader",QN);const YN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XN=ue("lock",YN);const $N=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JN=ue("log-out",$N);const ZN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],WN=ue("mail",ZN);const tD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],p1=ue("map-pin",tD);const eD=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],nD=ue("navigation",eD);const iD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rD=ue("play",iD);const sD=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],xE=ue("route",sD);const aD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],g1=ue("save",aD);const oD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lD=ue("search",oD);const uD=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cD=ue("square-check-big",uD);const hD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],fD=ue("square",hD);const dD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mD=ue("trash-2",dD);const pD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],gD=ue("truck",pD);const yD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Im=ue("user-plus",yD);const _D=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kE=ue("users",_D);const vD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ED=ue("x",vD),y1="/rutas-optimizadas/assets/equipototalsvg-CqUgpMIs.svg";function TD(){const[r,t]=St.useState("login"),[i,s]=St.useState(""),[l,c]=St.useState(""),[d,p]=St.useState(!1),[_,g]=St.useState(""),T=N=>({"auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"Contrasena incorrecta.","auth/invalid-credential":"Correo o contrasena incorrectos.","auth/email-already-in-use":"Ese correo ya esta registrado.","auth/weak-password":"La contrasena debe tener al menos 6 caracteres.","auth/invalid-email":"El formato del correo no es valido."})[N]||"Ocurrio un error. Intenta de nuevo.",S=async N=>{N.preventDefault(),g(""),p(!0);try{r==="login"?await BR(gh,i,l):await jR(gh,i,l)}catch(H){g(T(H.code))}finally{p(!1)}};return D.jsx("div",{style:{minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--color-bg)",padding:"20px"},children:D.jsxs("div",{style:{width:"100%",maxWidth:380,background:"var(--color-card)",border:"1px solid var(--color-border)",borderRadius:"var(--radius)",padding:"36px 28px 32px",boxShadow:"var(--shadow-glow)"},children:[D.jsx("div",{style:{textAlign:"center",marginBottom:32},children:D.jsx("img",{src:y1,alt:"Equipo Total",style:{width:"70%",maxWidth:220,height:"auto",display:"block",margin:"0 auto"}})}),D.jsx("h1",{style:{fontSize:"1.1rem",fontWeight:700,marginBottom:20,textAlign:"center",color:"var(--color-text)"},children:r==="login"?"Iniciar Sesion":"Crear Cuenta"}),D.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:14},children:[D.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[D.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:5},children:[D.jsx(WN,{size:13})," Correo electronico"]}),D.jsx("input",{type:"email",className:"form-input",placeholder:"correo@empresa.com",value:i,onChange:N=>s(N.target.value),required:!0,autoComplete:"email"})]}),D.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[D.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:5},children:[D.jsx(XN,{size:13})," Contrasena"]}),D.jsx("input",{type:"password",className:"form-input",placeholder:"Min. 6 caracteres",value:l,onChange:N=>c(N.target.value),required:!0,autoComplete:r==="login"?"current-password":"new-password"})]}),_&&D.jsxs("div",{className:"status-box error",style:{gap:8},children:[D.jsx(m1,{size:16,color:"var(--color-danger)"}),D.jsx("span",{className:"status-text",style:{fontSize:"0.8rem"},children:_})]}),D.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,style:{marginTop:4},children:d?D.jsxs(D.Fragment,{children:[D.jsx(ns,{size:16,className:"spin"})," Cargando..."]}):r==="login"?"Entrar":"Crear cuenta"})]}),D.jsxs("p",{style:{textAlign:"center",fontSize:"0.78rem",color:"var(--color-muted)",marginTop:18},children:[r==="login"?"Sin cuenta aun? ":"Ya tienes cuenta? ",D.jsx("button",{onClick:()=>{t(r==="login"?"registro":"login"),g("")},style:{background:"none",border:"none",color:"var(--color-accent)",cursor:"pointer",fontWeight:700,fontSize:"inherit",padding:0},children:r==="login"?"Registrate":"Inicia sesion"})]})]})})}const UE={lat:16.77146959206133,lng:-93.19299112393828};function AD({lat:r,lng:t,onChange:i}){const s=St.useRef(null),l=St.useRef(null),c=St.useRef(null);return St.useEffect(()=>{if(typeof window>"u"||l.current)return;const d=window.L;if(!d)return;const p=d.map(s.current,{center:[r,t],zoom:15,zoomControl:!0});d.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(p);const _=d.divIcon({html:'<div style="width:22px;height:22px;background:#0284c7;border:3px solid #38bdf8;border-radius:50% 50% 50% 0;transform:rotate(-45deg);box-shadow:0 2px 8px rgba(0,0,0,0.5)"></div>',iconSize:[22,22],iconAnchor:[11,22],className:""}),g=d.marker([r,t],{draggable:!0,icon:_}).addTo(p);return g.bindPopup(" Arrastra para ajustar").openPopup(),g.on("dragend",()=>{const{lat:T,lng:S}=g.getLatLng();i(T,S)}),l.current=p,c.current=g,()=>{p.remove(),l.current=null,c.current=null}},[]),D.jsx("div",{ref:s,style:{width:"100%",height:240,borderRadius:"var(--radius-sm)",overflow:"hidden"}})}function SD({onCerrar:r}){const[t,i]=St.useState(""),[s,l]=St.useState(""),[c,d]=St.useState(UE.lat),[p,_]=St.useState(UE.lng),[g,T]=St.useState(!1),[S,N]=St.useState(!1),H=St.useRef(!1);St.useEffect(()=>{if(H.current)return;if(window.L){N(!0);return}const Z=document.createElement("link");Z.rel="stylesheet",Z.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(Z);const W=document.createElement("script");W.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",W.onload=()=>{H.current=!0,N(!0)},document.head.appendChild(W)},[]);const J=async Z=>{if(Z.preventDefault(),!!t.trim()){T(!0);try{await h1(Ql(Xr,"clientes"),{nombre:t.trim(),direccion:s.trim(),lat:c,lng:p,creadoEn:a1()}),r()}finally{T(!1)}}};return D.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"flex-end"},children:D.jsxs("div",{style:{width:"100%",maxWidth:480,margin:"0 auto",background:"var(--color-card)",borderRadius:"var(--radius) var(--radius) 0 0",padding:"24px 20px 32px",maxHeight:"90dvh",overflowY:"auto"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:18},children:[D.jsxs("span",{style:{fontWeight:700,fontSize:"1rem",color:"var(--color-accent)"},children:[D.jsx(Im,{size:16,style:{verticalAlign:"middle",marginRight:6}}),"Nuevo Cliente"]}),D.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",color:"var(--color-muted)",padding:4},children:D.jsx(ED,{size:20})})]}),D.jsxs("form",{onSubmit:J,style:{display:"flex",flexDirection:"column",gap:14},children:[D.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[D.jsx("label",{className:"form-label",children:"Nombre del cliente *"}),D.jsx("input",{type:"text",className:"form-input",placeholder:"Ej: Tienda Don Carlos",value:t,onChange:Z=>i(Z.target.value),required:!0,autoFocus:!0})]}),D.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[D.jsx("label",{className:"form-label",children:"Referencia / Direccin"}),D.jsx("input",{type:"text",className:"form-input",placeholder:"Ej: Calle Morelos 45, esq. Hidalgo",value:s,onChange:Z=>l(Z.target.value)})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:5,marginBottom:8},children:[D.jsx(p1,{size:13})," Ubica la puerta del cliente  Arrastra el pin"]}),S?D.jsxs(D.Fragment,{children:[D.jsx(AD,{lat:c,lng:p,onChange:(Z,W)=>{d(Z),_(W)}}),D.jsxs("p",{style:{fontSize:"0.68rem",color:"var(--color-muted)",marginTop:6},children:[" ",c.toFixed(6),", ",p.toFixed(6)]})]}):D.jsxs("div",{style:{height:100,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-muted)"},children:[D.jsx(ns,{size:18,className:"spin",style:{marginRight:8}})," Cargando mapa"]})]}),D.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,style:{marginTop:4},children:g?D.jsxs(D.Fragment,{children:[D.jsx(ns,{size:15,className:"spin"})," Guardando"]}):D.jsxs(D.Fragment,{children:[D.jsx(g1,{size:15})," Guardar Cliente"]})})]})]})})}function bD(){const[r,t]=St.useState([]),[i,s]=St.useState(!0),[l,c]=St.useState(!1);St.useEffect(()=>{const p=_p(Ql(Xr,"clientes"),u1("nombre"));return Tp(p,g=>{t(g.docs.map(T=>({id:T.id,...T.data()}))),s(!1)})},[]);const d=async p=>{window.confirm("Eliminar este cliente?")&&await DN(mh(Xr,"clientes",p))};return D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[D.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),id:"btn-nuevo-cliente",style:{gap:8},children:[D.jsx(Im,{size:17})," Nuevo Cliente"]}),i?D.jsx("div",{style:{textAlign:"center",color:"var(--color-muted)",padding:30},children:D.jsx(ns,{size:20,className:"spin"})}):r.length===0?D.jsxs("div",{className:"empty-state",children:[D.jsx("div",{className:"empty-state-icon",children:D.jsx(Im,{size:28,color:"var(--color-muted)"})}),D.jsx("div",{className:"empty-state-title",children:"Sin clientes an"}),D.jsx("div",{className:"empty-state-desc",children:"Agrega clientes al directorio para poder armar rutas."})]}):D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:r.map((p,_)=>D.jsx("div",{className:"pedido-item",children:D.jsxs("div",{className:"pedido-header",children:[D.jsx("div",{className:"pedido-number",children:_+1}),D.jsxs("div",{className:"pedido-info",children:[D.jsx("div",{className:"pedido-nombre",children:p.nombre}),p.direccion&&D.jsx("div",{className:"pedido-direccion",children:p.direccion}),D.jsxs("div",{style:{fontSize:"0.67rem",color:"var(--color-muted)",marginTop:2},children:[" ",p.lat?.toFixed(5),", ",p.lng?.toFixed(5)]})]}),D.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>d(p.id),title:"Eliminar cliente",children:D.jsx(mD,{size:15})})]})},p.id))}),l&&D.jsx(SD,{onCerrar:()=>c(!1)})]})}function RD(r,t){const s=(t.lat-r.lat)*Math.PI/180,l=(t.lng-r.lng)*Math.PI/180,c=Math.sin(s/2),d=Math.sin(l/2),p=c*c+Math.cos(r.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*d*d;return 6371*2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p))}function LE(r,t){const i=[...t],s=[];let l=r;for(;i.length;){let c=1/0,d=0;for(let _=0;_<i.length;_++){const g=RD(l,i[_]);g<c&&(c=g,d=_)}const p=i.splice(d,1)[0];s.push(p),l=p}return s}function wD(r,t){const i=t.filter(p=>p.isUrgente),s=t.filter(p=>!p.isUrgente),l=LE(r,i),c=l.length>0?l[l.length-1]:r,d=LE(c,s);return[...l,...d]}const tm={lat:16.77146959206133,lng:-93.19299112393828};function ID(){const[r,t]=St.useState([]),[i,s]=St.useState({}),[l,c]=St.useState({}),[d,p]=St.useState(!1),[_,g]=St.useState(!0),[T,S]=St.useState(!1),[N,H]=St.useState("");St.useEffect(()=>{const lt=_p(Ql(Xr,"clientes"),u1("nombre"));return Tp(lt,mt=>{t(mt.docs.map(I=>({id:I.id,...I.data()}))),g(!1)})},[]);const J=lt=>s(Ct=>{const mt={...Ct,[lt]:!Ct[lt]};return mt[lt]||c(I=>({...I,[lt]:!1})),mt}),Z=lt=>c(Ct=>({...Ct,[lt]:!Ct[lt]})),W=r.filter(lt=>{const Ct=N.toLowerCase();return lt.nombre?.toLowerCase().includes(Ct)||lt.direccion?.toLowerCase().includes(Ct)}),ft=r.filter(lt=>i[lt.id]),yt=ft.length,vt=async()=>{if(yt!==0){p(!0);try{const lt=ft.map(mt=>({clienteId:mt.id,nombre:mt.nombre,direccion:mt.direccion||"",lat:mt.lat,lng:mt.lng,isUrgente:!!l[mt.id],entregado:!1})),Ct=wD(tm,lt);await h1(Ql(Xr,"rutas"),{estado:"pendiente",creadoEn:a1(),paradas:Ct,almacenLat:tm.lat,almacenLng:tm.lng}),s({}),c({}),H(""),S(!0),setTimeout(()=>S(!1),3e3)}finally{p(!1)}}};return _?D.jsx("div",{style:{textAlign:"center",padding:40,color:"var(--color-muted)"},children:D.jsx(ns,{size:22,className:"spin"})}):r.length===0?D.jsxs("div",{className:"empty-state",children:[D.jsx("div",{className:"empty-state-title",children:"Sin clientes en el directorio"}),D.jsxs("div",{className:"empty-state-desc",children:["Ve a la pestana ",D.jsx("b",{children:"Directorio"})," y agrega clientes primero."]})]}):D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[D.jsxs("div",{style:{position:"relative"},children:[D.jsx(lD,{size:15,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--color-muted)",pointerEvents:"none"}}),D.jsx("input",{type:"search",className:"form-input",placeholder:"Buscar cliente...",value:N,onChange:lt=>H(lt.target.value),style:{paddingLeft:34}})]}),D.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-muted)",background:"var(--color-surface)",borderRadius:"var(--radius-sm)",padding:"8px 14px",display:"flex",justifyContent:"space-between"},children:[D.jsx("span",{children:N?`${W.length} resultado${W.length!==1?"s":""}`:"Selecciona los clientes de hoy"}),D.jsxs("span",{style:{color:"var(--color-accent)",fontWeight:700},children:[yt," seleccionado",yt!==1?"s":""]})]}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:W.length===0&&N?D.jsxs("div",{style:{textAlign:"center",color:"var(--color-muted)",padding:20,fontSize:"0.85rem"},children:['Sin resultados para "',N,'"']}):W.map(lt=>{const Ct=!!i[lt.id],mt=!!l[lt.id];return D.jsx("div",{className:`pedido-item${mt?" urgent":""}`,style:{cursor:"pointer",userSelect:"none"},children:D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[D.jsx("button",{onClick:()=>J(lt.id),style:{background:"none",border:"none",cursor:"pointer",padding:2,flexShrink:0,color:Ct?"var(--color-accent)":"var(--color-muted)"},children:Ct?D.jsx(cD,{size:22}):D.jsx(fD,{size:22})}),D.jsxs("div",{style:{flex:1,minWidth:0},onClick:()=>J(lt.id),children:[D.jsx("div",{className:"pedido-nombre",children:lt.nombre}),lt.direccion&&D.jsx("div",{className:"pedido-direccion",children:lt.direccion})]}),Ct&&D.jsxs("button",{onClick:()=>Z(lt.id),style:{background:mt?"var(--color-urgent)":"rgba(245,158,11,0.12)",border:"1px solid",borderColor:mt?"var(--color-urgent)":"rgba(245,158,11,0.3)",borderRadius:8,cursor:"pointer",padding:"5px 8px",display:"flex",alignItems:"center",gap:4,fontSize:"0.7rem",fontWeight:700,color:mt?"#fff":"#f59e0b",flexShrink:0,transition:"all 0.2s"},children:[D.jsx(FN,{size:14}),mt?"URGENTE":"Urgente"]})]})},lt.id)})}),T&&D.jsx("div",{className:"status-box",style:{background:"rgba(16,185,129,0.1)",borderColor:"rgba(16,185,129,0.4)"},children:D.jsx("span",{className:"status-text",children:"Ruta guardada! El repartidor ya puede verla."})}),D.jsx("button",{className:"btn btn-success",onClick:vt,disabled:yt===0||d,id:"btn-generar-ruta",style:{marginTop:4},children:d?D.jsxs(D.Fragment,{children:[D.jsx(ns,{size:16,className:"spin"})," Guardando ruta..."]}):D.jsxs(D.Fragment,{children:[D.jsx(g1,{size:16})," Generar y Guardar Ruta (",yt,")"]})}),yt===0&&D.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-muted)",textAlign:"center"},children:"Palomea al menos 1 cliente para generar la ruta."})]})}function CD({parada:r,index:t,onEntregado:i}){const{nombre:s,direccion:l,lat:c,lng:d,isUrgente:p,entregado:_}=r,g=()=>{window.open(`https://waze.com/ul?ll=${c},${d}&navigate=yes`,"_blank")},T=()=>{window.open(`https://maps.google.com/?q=${c},${d}`,"_blank")};return D.jsxs("div",{className:`pedido-item${p?" urgent":""}`,style:{opacity:_?.5:1,transition:"opacity 0.3s"},children:[D.jsxs("div",{className:"pedido-header",children:[D.jsx("div",{className:`pedido-number${p?" urgent":""}`,children:t+1}),D.jsxs("div",{className:"pedido-info",style:{textDecoration:_?"line-through":"none"},children:[D.jsx("div",{className:"pedido-nombre",children:s}),l&&D.jsx("div",{className:"pedido-direccion",children:l}),D.jsxs("div",{style:{fontSize:"0.67rem",color:"var(--color-muted)",marginTop:2},children:[" ",c?.toFixed(5),", ",d?.toFixed(5)]})]}),p&&D.jsx("span",{className:"urgency-badge",children:" URGENTE"})]}),D.jsxs("div",{className:"pedido-actions",children:[D.jsxs("button",{className:"btn btn-waze",onClick:g,disabled:_,children:[D.jsx(nD,{size:14})," Waze"]}),D.jsxs("button",{className:"btn btn-gmaps",onClick:T,disabled:_,children:[D.jsx(p1,{size:14})," Maps"]}),D.jsx("button",{className:"btn",onClick:i,style:{flex:1,background:_?"rgba(16,185,129,0.15)":"rgba(255,255,255,0.05)",border:"1px solid",borderColor:_?"rgba(16,185,129,0.4)":"var(--color-border)",color:_?"var(--color-success)":"var(--color-text)",fontSize:"0.78rem",padding:"7px 10px"},children:_?D.jsxs(D.Fragment,{children:[D.jsx(Sp,{size:14})," Entregado"]}):D.jsxs(D.Fragment,{children:[D.jsx(BN,{size:14})," Marcar entregado"]})})]})]})}function ND({ruta:r,onIniciar:t}){const i=r.creadoEn?.toDate?.()?.toLocaleString("es-MX")??"...",s=r.paradas?.length??0,l=r.paradas?.filter(c=>c.isUrgente).length??0;return D.jsxs("div",{className:"history-item",style:{gap:12},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[D.jsxs("div",{children:[D.jsxs("div",{style:{fontWeight:700,fontSize:"0.95rem",color:"var(--color-text)"},children:["Ruta del ",i]}),D.jsxs("div",{className:"history-stops",children:[s," entrega",s!==1?"s":"",l>0&&D.jsxs("span",{style:{marginLeft:8,color:"var(--color-urgent)"},children:[" ",l," urgente",l!==1?"s":""]})]})]}),D.jsx("span",{style:{fontSize:"0.65rem",fontWeight:800,padding:"3px 9px",borderRadius:20,background:"rgba(245,158,11,0.15)",border:"1px solid rgba(245,158,11,0.35)",color:"#f59e0b"},children:"PENDIENTE"})]}),r.paradas?.slice(0,3).map((c,d)=>D.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-muted)",display:"flex",gap:6},children:[D.jsxs("span",{children:["#",d+1]}),D.jsx("span",{style:{color:c.isUrgente?"var(--color-urgent)":"var(--color-text)"},children:c.nombre}),c.isUrgente&&D.jsx("span",{children:""})]},d)),s>3&&D.jsxs("div",{style:{fontSize:"0.72rem",color:"var(--color-muted)"},children:[" y ",s-3," ms"]}),D.jsxs("button",{className:"btn btn-success",onClick:()=>t(r.id),style:{marginTop:4,fontSize:"1rem",padding:"13px 20px"},id:`btn-iniciar-ruta-${r.id}`,children:[D.jsx(rD,{size:18})," Iniciar Ruta"]})]})}function DD(){const[r,t]=St.useState([]),[i,s]=St.useState(!0);St.useEffect(()=>{const g=_p(Ql(Xr,"rutas"),IN("estado","in",["pendiente","activa","completada"]));return Tp(g,S=>{const N=S.docs.map(H=>({id:H.id,...H.data()})).sort((H,J)=>{const Z=H.creadoEn?.seconds??0;return(J.creadoEn?.seconds??0)-Z});t(N),s(!1)})},[]);const l=async g=>{await OE(mh(Xr,"rutas",g),{estado:"activa"})},c=async(g,T,S)=>{const N=T.map((J,Z)=>Z===S?{...J,entregado:!J.entregado}:J),H=N.every(J=>J.entregado);await OE(mh(Xr,"rutas",g),{paradas:N,...H?{estado:"completada"}:{}})};if(i)return D.jsx("div",{style:{textAlign:"center",padding:40,color:"var(--color-muted)"},children:D.jsx(ns,{size:22,className:"spin"})});const d=r.filter(g=>g.estado==="pendiente"),p=r.filter(g=>g.estado==="activa"),_=r.filter(g=>g.estado==="completada").slice(0,5);return r.length===0?D.jsxs("div",{className:"empty-state",children:[D.jsx("div",{className:"empty-state-icon",children:D.jsx(VE,{size:30,color:"var(--color-muted)"})}),D.jsx("div",{className:"empty-state-title",children:"Sin rutas asignadas"}),D.jsxs("div",{className:"empty-state-desc",children:["El despachador an no ha generado una ruta. Espera o ve a ",D.jsx("b",{children:"Armar Ruta"}),"."]})]}):D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[p.map(g=>{const T=g.paradas?.filter(H=>H.entregado).length??0,S=g.paradas?.length??0,N=S>0?Math.round(T/S*100):0;return D.jsxs("div",{children:[D.jsxs("div",{style:{background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"var(--radius-sm)",padding:"10px 14px",marginBottom:12,display:"flex",flexDirection:"column",gap:6},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem"},children:[D.jsx("span",{style:{fontWeight:700,color:"var(--color-success)"},children:" Ruta EN CURSO"}),D.jsxs("span",{style:{color:"var(--color-success)"},children:[T,"/",S," entregas"]})]}),D.jsx("div",{className:"progress-bar-wrap",children:D.jsx("div",{className:"progress-bar-fill",style:{width:`${N}%`}})})]}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:g.paradas?.map((H,J)=>D.jsx(CD,{parada:H,index:J,onEntregado:()=>c(g.id,g.paradas,J)},J))}),N===100&&D.jsx("div",{style:{marginTop:14,textAlign:"center",background:"rgba(16,185,129,0.12)",border:"1px solid rgba(16,185,129,0.35)",borderRadius:"var(--radius-sm)",padding:"14px",fontWeight:700,color:"var(--color-success)"},children:" Todas las entregas completadas!"})]},g.id)}),d.length>0&&D.jsxs("div",{children:[D.jsxs("div",{className:"card-header",style:{marginBottom:10},children:[D.jsx(VE,{size:16})," Rutas Pendientes (",d.length,")"]}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:d.map(g=>D.jsx(ND,{ruta:g,onIniciar:l},g.id))})]}),_.length>0&&D.jsxs("div",{children:[D.jsxs("div",{className:"card-header",style:{marginBottom:10,color:"var(--color-muted)"},children:[D.jsx(Sp,{size:16})," Completadas recientes"]}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:_.map(g=>D.jsxs("div",{className:"history-item",style:{opacity:.65},children:[D.jsx("div",{className:"history-date",children:g.creadoEn?.toDate?.()?.toLocaleString("es-MX")}),D.jsxs("div",{className:"history-stops",children:[" ",g.paradas?.length," entregas completadas"]})]},g.id))})]})]})}const OD={success:D.jsx(Sp,{size:16}),error:D.jsx(m1,{size:16}),info:D.jsx(KN,{size:16})};function MD({message:r,type:t="info",onDismiss:i,duration:s=3500}){return St.useEffect(()=>{if(!r)return;const l=setTimeout(i,s);return()=>clearTimeout(l)},[r,s,i]),r?D.jsxs("div",{className:`toast ${t}`,role:"status","aria-live":"polite",id:"toast-notification",children:[OD[t],D.jsx("span",{children:r})]}):null}const An={DIRECTORIO:"directorio",ARMAR_RUTA:"armar",MIS_RUTAS:"rutas"};function VD(){const[r,t]=St.useState(An.MIS_RUTAS),[i,s]=St.useState(void 0),[l,c]=St.useState({message:"",type:"info"});St.useEffect(()=>FR(gh,_=>s(_??null)),[]);const d=async()=>{await GR(gh),c({message:"Sesin cerrada.",type:"info"})};return i===void 0?D.jsx("div",{style:{minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--color-bg)"},children:D.jsx(ns,{size:32,className:"spin",color:"var(--color-accent)"})}):i?D.jsxs("div",{className:"app-shell",children:[D.jsxs("header",{className:"app-header",children:[D.jsx("img",{src:y1,alt:"Equipo Total",style:{width:95,height:"auto",flexShrink:0}}),D.jsxs("div",{style:{flex:1},children:[D.jsxs("div",{className:"header-title",children:[D.jsx("span",{children:"Equipo"})," Total"]}),D.jsx("div",{className:"header-subtitle",style:{fontSize:"0.65rem"},children:i.email})]}),D.jsxs("button",{onClick:d,title:"Cerrar sesin",style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.25)",borderRadius:8,cursor:"pointer",padding:"7px 10px",color:"#ef4444",display:"flex",alignItems:"center",gap:5,fontSize:"0.72rem",fontWeight:700},children:[D.jsx(JN,{size:14})," Salir"]})]}),D.jsxs("nav",{className:"tab-nav",role:"tablist","aria-label":"Navegacin principal",children:[D.jsxs("button",{role:"tab",className:`tab-btn ${r===An.DIRECTORIO?"active":""}`,onClick:()=>t(An.DIRECTORIO),"aria-selected":r===An.DIRECTORIO,id:"tab-directorio",children:[D.jsx(kE,{size:18}),"Directorio"]}),D.jsxs("button",{role:"tab",className:`tab-btn ${r===An.ARMAR_RUTA?"active":""}`,onClick:()=>t(An.ARMAR_RUTA),"aria-selected":r===An.ARMAR_RUTA,id:"tab-armar-ruta",children:[D.jsx(xE,{size:18}),"Armar Ruta"]}),D.jsxs("button",{role:"tab",className:`tab-btn ${r===An.MIS_RUTAS?"active":""}`,onClick:()=>t(An.MIS_RUTAS),"aria-selected":r===An.MIS_RUTAS,id:"tab-mis-rutas",children:[D.jsx(gD,{size:18}),"Mis Rutas"]})]}),D.jsxs("main",{className:"main-content",id:"main-content",children:[r===An.DIRECTORIO&&D.jsxs("section",{className:"card","aria-label":"Directorio de clientes",children:[D.jsxs("div",{className:"card-header",children:[D.jsx(kE,{size:16})," Directorio de Clientes"]}),D.jsx(bD,{})]}),r===An.ARMAR_RUTA&&D.jsxs("section",{className:"card","aria-label":"Armar ruta",children:[D.jsxs("div",{className:"card-header",children:[D.jsx(xE,{size:16})," Armar Ruta del Da"]}),D.jsx(ID,{})]}),r===An.MIS_RUTAS&&D.jsx(DD,{})]}),D.jsx(MD,{message:l.message,type:l.type,onDismiss:()=>c({message:"",type:"info"})})]}):D.jsx(TD,{})}sS.createRoot(document.getElementById("root")).render(D.jsx(JA.StrictMode,{children:D.jsx(VD,{})}));
